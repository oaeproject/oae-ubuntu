define("oae.api",["oae.api.authentication","oae.api.config","oae.api.content","oae.api.comment","oae.api.discussion","oae.api.group","oae.api.i18n","oae.api.l10n","oae.api.profile","oae.api.user","oae.api.util","oae.api.widget"],function(e,t,n,r,i,s,o,u,a,f,l,c){var h={api:{authentication:e,config:t,content:n,comment:r,discussion:i,group:s,i18n:o,l10n:u,profile:a,user:f,util:l,widget:c},data:{}},p=function(e){h.api.user.getMe(function(t,n){if(t){if(t.code===502)return l.redirect().unavailable();if(t.code===503)return l.redirect().maintenance();throw new Error("Could not load the me feed. Make sure that the server is running and properly configured")}h.data.me=n,h.api.config.init(function(t){if(t)throw new Error("Could not initialize the config API.");var n=h.data.me.locale?h.data.me.locale.locale:null;h.api.l10n.init(n,function(t){if(t)throw new Error("Could not initialize the l10n API.");h.api.i18n.init(n,function(t){if(t)throw new Error("Could not initialize the i18n API.");h.api.util.init(function(){h.api.widget.init(n,function(t){if(t)throw new Error("Could not initialize the widgets API.");e(h),h.api.widget.loadWidgets(null,null,null,function(){$("body").show()})})})})})})})};return{pluginBuilder:"pluginBuilder",load:function(e,t,n,r){p(n)}}}),!function(e){e(function(){e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(e.style[n]!==undefined)return t[n]}();return e&&{end:e}}()})}(window.jQuery),!function(e){var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed").remove()}var n=e(this),r=n.attr("data-target"),i;r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=e(r),t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,s):s()};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),!function(e){var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(e){var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var n=this.getActiveIndex(),r=this;if(t>this.$items.length-1||t<0)return;return this.sliding?this.$element.one("slid",function(){r.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this,f;this.sliding=!0,s&&this.pause(),i=i.length?i:this.$element.find(".item")[u](),f=e.Event("slide",{relatedTarget:i[0],direction:o});if(i.hasClass("active"))return;this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(a.$indicators.children()[a.getActiveIndex()]);t&&t.addClass("active")}));if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid")},0)})}else{this.$element.trigger(f);if(f.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.pause().cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},i.data(),n.data()),o;i.carousel(s),(o=n.attr("data-slide-to"))&&i.data("carousel").pause().to(o).cycle(),t.preventDefault()})}(window.jQuery),!function(e){var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning||this.$element.hasClass("in"))return;t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning||!this.$element.hasClass("in"))return;t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0)},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[e!==null?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){n.type=="show"&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=e.extend({},e.fn.collapse.defaults,r.data(),typeof n=="object"&&n);i||r.data("collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(s)})}(window.jQuery),!function(e){function r(){e(t).each(function(){i(e(this)).removeClass("open")})}function i(t){var n=t.attr("data-target"),r;n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),r=n&&e(n);if(!r||!r.length)r=t.parent();return r}var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),s,o;if(n.is(".disabled, :disabled"))return;return s=i(n),o=s.hasClass("open"),r(),o||s.toggleClass("open"),n.focus(),!1},keydown:function(n){var r,s,o,u,a,f;if(!/(38|40|27)/.test(n.keyCode))return;r=e(this),n.preventDefault(),n.stopPropagation();if(r.is(".disabled, :disabled"))return;u=i(r),a=u.hasClass("open");if(!a||a&&n.keyCode==27)return n.which==27&&u.find(t).focus(),r.click();s=e("[role=menu] li:not(.divider):visible a",u);if(!s.length)return;f=s.index(s.filter(":focus")),n.keyCode==38&&f>0&&f--,n.keyCode==40&&f<s.length-1&&f++,~f||(f=0),s.eq(f).focus()}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.dropdown.data-api",r).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)}(window.jQuery),!function(e){var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!t)return;i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s).one("hide",function(){n.focus()})})}(window.jQuery),!function(e){var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s,o,u,a;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,o=this.options.trigger.split(" ");for(a=o.length;a--;)u=o[a],u=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):u!="manual"&&(i=u=="hover"?"mouseenter":"focus",s=u=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e.fn[this.type].defaults,r={},i;this._options&&e.each(this._options,function(e,t){n[e]!=t&&(r[e]=t)},this),i=e(t.currentTarget)[this.type](r).data(this.type);if(!i.options.delay||!i.options.delay.show)return i.show();clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout(function(){i.hoverState=="in"&&i.show()},i.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var t,n,r,i,s,o,u=e.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(u);if(u.isDefaultPrevented())return;t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),r=t[0].offsetWidth,i=t[0].offsetHeight;switch(s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}this.applyPlacement(o,s),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n=this.tip(),r=n[0].offsetWidth,i=n[0].offsetHeight,s,o,u,a;n.offset(e).addClass(t).addClass("in"),s=n[0].offsetWidth,o=n[0].offsetHeight,t=="top"&&o!=i&&(e.top=e.top+i-o,a=!0),t=="bottom"||t=="top"?(u=0,e.left<0&&(u=e.left*-2,e.left=0,n.offset(e),s=n[0].offsetWidth,o=n[0].offsetHeight),this.replaceArrow(u-r+s,s,"left")):this.replaceArrow(o-i,o,"top"),a&&n.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function i(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var t=this,n=this.tip(),r=e.Event("hide");this.$element.trigger(r);if(r.isDefaultPrevented())return;return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?i():n.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},typeof t.getBoundingClientRect=="function"?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),!function(e){var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=(typeof n.content=="function"?n.content.call(t[0]):n.content)||t.attr("data-content"),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),!function(e){function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var n=e(this),r=n.data("target")||n.attr("href"),i=/^#\w/.test(r)&&e(r);return i&&i.length&&[[i.position().top+(!e.isWindow(t.$scrollElement.get(0))&&t.$scrollElement.scrollTop()),r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s,o;r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;i=n.find(".active:last a")[0],o=e.Event("show",{relatedTarget:i}),t.trigger(o);if(o.isDefaultPrevented())return;s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o):o(),i.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),!function(e){var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t=typeof this.$element[e]=="function"),t},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(e){this.focused=!0},blur:function(e){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;n.typeahead(n.data())})}(window.jQuery),!function(e){var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",a;typeof i!="object"&&(s=o=i),typeof o=="function"&&(o=i.top()),typeof s=="function"&&(s=i.bottom()),a=this.unpin!=null&&n+this.unpin<=r.top?!1:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":!1;if(this.affixed===a)return;this.affixed=a,this.unpin=a=="bottom"?r.top-n:null,this.$element.removeClass(u).addClass("affix"+(a?"-"+a:""))};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;i||r.data("affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),define("bootstrap",function(){}),define("oae.api.authentication",["exports","jquery"],function(e,t){var n=e.login=function(e,n,r){if(!e)throw new Error("A valid username should be provided");if(!n)throw new Error("A valid password should be provided");t.ajax({url:"/api/auth/login",type:"POST",data:{username:e,password:n},success:function(){r(null)},error:function(e,t){r({code:e.status,msg:e.statusText})}})},r=e.logout=function(e){t.ajax({url:"/api/auth/logout",type:"POST",success:function(){e(null)},error:function(t,n){e({code:t.status,msg:t.statusText})}})},i=e.changePassword=function(e,n,r){if(!e)throw new Error("A valid current password should be provided");if(!n)throw new Error("A valid new password should be provided");var i=require("oae.core").data.me.id;t.ajax({url:"/api/user/"+i+"/password",type:"POST",data:{oldPassword:e,newPassword:n},success:function(e){r(null,e)},error:function(e,t){r({code:e.status,msg:e.statusText})}})}}),define("oae.api.config",["exports","jquery"],function(e,t){var n=null,r=e.init=function(e){t.ajax({url:"/api/config",success:function(t){n=t,e(null)},error:function(t,n){e({code:t.status,msg:t.statusText})}})},i=e.getValue=function(e,t,r){if(!e||!n[e])throw new Error("A valid module id should be provided when getting a config value");if(!t||!n[e][t])throw new Error("A valid feature should be provided when getting a config value");if(!r||n[e][t][r]===undefined)throw new Error("A valid element should be provided when getting a config value");return n[e][t][r]}}),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.4.4";var T=x.each=x.forEach=function(e,t,r){if(e==null)return;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(x.has(e,o)&&t.call(r,e[o],o,e)===n)return};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t,n){return x.isEmpty(t)?n?null:[]:x[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.findWhere=function(e,t){return x.where(e,t,!0)},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-Infinity;var r={computed:-Infinity,value:-Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return Infinity;var r={computed:Infinity,value:Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=k(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t||x.identity);return T(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};x.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)})},x.countBy=function(e,t,n){return L(e,t,n,function(e,t){x.has(e,t)||(e[t]=0),e[t]++})},x.sortedIndex=function(e,t,n,r){n=n==null?x.identity:k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t!=null&&!n?u.call(e,0,t):e[0]},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return e==null?void 0:t!=null&&!n?u.call(e,Math.max(e.length-t,0)):e[e.length-1]},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return T(e,function(e){x.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n))o.push(n),s.push(e[r])}),s},x.union=function(){return x.uniq(a.apply(r,arguments))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){var e=u.call(arguments),t=x.max(x.pluck(e,"length")),n=new Array(t);for(var r=0;r<t;r++)n[r]=x.pluck(e,""+r);return n},x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s},x.bind=function(e,t){if(e.bind===S&&S)return S.apply(e,u.call(arguments,1));var n=u.call(arguments,2);return function(){return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}},x.bindAll=function(e){var t=u.call(arguments,1);return t.length===0&&(t=x.functions(e)),T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t){var n,r,i,s,o=0,u=function(){o=new Date,i=null,s=e.apply(n,r)};return function(){var a=new Date,f=t-(a-o);return n=this,r=arguments,f<=0?(clearTimeout(i),i=null,o=a,s=e.apply(n,r)):i||(i=setTimeout(u,f)),s}},x.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},x.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&(t[t.length]=n);return t},x.values=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push(e[n]);return t},x.pairs=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push([n,e[n]]);return t},x.invert=function(e){var t={};for(var n in e)x.has(e,n)&&(t[e[n]]=n);return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]==null&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var O=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if(i=="[object Array]"){o=e.length,u=o==t.length;if(u)while(o--)if(!(u=O(e[o],t[o],n,r)))break}else{var a=e.constructor,l=t.constructor;if(a!==l&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(l)&&l instanceof l))return!1;for(var c in e)if(x.has(e,c)){o++;if(!(u=x.has(t,c)&&O(e[c],t[c],n,r)))break}if(u){for(c in t)if(x.has(t,c)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};x.isEqual=function(e,t){return O(e,t,[],[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType===1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){var r=Array(e);for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};M.unescape=x.invert(M.escape);var _={escape:new RegExp("["+x.keys(M.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(M.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(_[e],function(t){return M[e][t]})}}),x.result=function(e,t){if(e==null)return null;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),j.call(this,n.apply(x,e))}})};var D=0;x.uniqueId=function(e){var t=++D+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||P).source,(n.interpolate||P).source,(n.evaluate||P).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(B,function(e){return"\\"+H[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var j=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],j.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return j.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("underscore",[],function(){return _}),function(e){e.extend(e.fn,{validate:function(t){if(!this.length){t&&t.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var n=e.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(t.target).hasClass("cancel")&&(n.cancelSubmit=!0)}),this.submit(function(t){function r(){var r;return n.settings.submitHandler?(n.submitButton&&(r=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(n.submitButton.value).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&r.remove(),!1):!0}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,r()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):r():(n.focusInvalid(),!1)})),n)},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,n=e(this[0].form).validate();return this.each(function(){t&=n.element(this)}),t},removeAttrs:function(t){var n={},r=this;return e.each(t.split(/\s/),function(e,t){n[t]=r.attr(t),r.removeAttr(t)}),n},rules:function(t,n){var r=this[0];if(t){var i=e.data(r.form,"validator").settings,s=i.rules,o=e.validator.staticRules(r);switch(t){case"add":e.extend(o,e.validator.normalizeRule(n)),s[r.name]=o,n.messages&&(i.messages[r.name]=e.extend(i.messages[r.name],n.messages));break;case"remove":if(!n)return delete s[r.name],o;var u={};return e.each(n.split(/\s/),function(e,t){u[t]=o[t],delete o[t]}),u}}var a=e.validator.normalizeRules(e.extend({},e.validator.classRules(r),e.validator.attributeRules(r),e.validator.dataRules(r),e.validator.staticRules(r)),r);if(a.required){var f=a.required;delete a.required,a=e.extend({required:f},a)}return a}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+t.value)},filled:function(t){return!!e.trim(""+t.value)},unchecked:function(e){return!e.checked}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return arguments.length===1?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),n)}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e,t){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e,t){!this.checkable(e)&&(e.name in this.submitted||!this.optional(e))&&this.element(e)},onkeyup:function(e,t){if(t.which===9&&this.elementValue(e)==="")return;(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e,t){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,r){t.type==="radio"?this.findByName(t.name).addClass(n).removeClass(r):e(t).addClass(n).removeClass(r)},unhighlight:function(t,n,r){t.type==="radio"?this.findByName(t.name).removeClass(n).addClass(r):e(t).removeClass(n).addClass(r)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function r(t){var n=e.data(this[0].form,"validator"),r="on"+t.type.replace(/^validate/,"");n.settings[r]&&n.settings[r].call(n,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var t=this.groups={};e.each(this.settings.groups,function(n,r){e.each(r.split(/\s/),function(e,r){t[r]=n})});var n=this.settings.rules;e.each(n,function(t,r){n[t]=e.validator.normalizeRule(r)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",r).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",r),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t)),this.lastElement=t,this.prepareElement(t),this.currentElements=e(t);var n=this.check(t)!==!1;return n?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var n in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&e.grep(this.errorList,function(e){return e.element.name===t.name}).length===1&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!t.objectLength(e(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n=e(t).attr("type"),r=e(t).val();return n==="radio"||n==="checkbox"?e('input[name="'+e(t).attr("name")+'"]:checked').val():typeof r=="string"?r.replace(/\r/g,""):r},check:function(t){t=this.validationTargetFor(this.clean(t));var n=e(t).rules(),r=!1,i=this.elementValue(t),s;for(var o in n){var u={method:o,parameters:n[o]};try{s=e.validator.methods[o].call(this,i,t,u.parameters);if(s==="dependency-mismatch"){r=!0;continue}r=!1;if(s==="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!s)return this.formatAndAdd(t,u),!1}catch(a){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+t.id+", check the '"+u.method+"' method",a),a}}if(r)return;return this.objectLength(n)&&this.successList.push(t),!0},customDataMessage:function(t,n){return e(t).data("msg-"+n.toLowerCase())||t.attributes&&e(t).attr("data-msg-"+n.toLowerCase())},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==undefined)return arguments[e];return undefined},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),!this.settings.ignoreTitle&&t.title||undefined,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var r=this.defaultMessage(t,n.method),i=/\$?\{(\d+)\}/g;typeof r=="function"?r=r.call(this,n.parameters,t):i.test(r)&&(r=e.validator.format(r.replace(i,"{$1}"),n.parameters)),this.errorList.push({message:r,element:t}),this.errorMap[t.name]=r,this.submitted[t.name]=r},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t;for(e=0;this.errorList[e];e++){var n=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message)}this.errorList.length&&(this.toShow=this.toShow.add(this.containers));if(this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var r=this.errorsFor(t);r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.attr("generated")&&r.html(n)):(r=e("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,e(t)):r.insertAfter(t))),!n&&this.settings.success&&(r.text(""),typeof this.settings.success=="string"?r.addClass(this.settings.success):this.settings.success(r,t)),this.toShow=this.toShow.add(r)},errorsFor:function(t){var n=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")===n})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find('[name="'+t+'"]')},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e,t){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n&&this.pendingRequest===0&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&this.pendingRequest===0&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},r=e(t).attr("class");return r&&e.each(r.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},attributeRules:function(t){var n={},r=e(t);for(var i in e.validator.methods){var s;i==="required"?(s=r.get(0).getAttribute(i),s===""&&(s=!0),s=!!s):s=r.attr(i),s?n[i]=s:r[0].getAttribute("type")===i&&(n[i]=!0)}return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var n,r,i={},s=e(t);for(n in e.validator.methods)r=s.data("rule-"+n.toLowerCase()),r!==undefined&&(i[n]=r);return i},staticRules:function(t){var n={},r=e.data(t.form,"validator");return r.settings.rules&&(n=e.validator.normalizeRule(r.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(r,i){if(i===!1){delete t[r];return}if(i.param||i.depends){var s=!0;switch(typeof i.depends){case"string":s=!!e(i.depends,n.form).length;break;case"function":s=i.depends.call(n,n)}s?t[r]=i.param!==undefined?i.param:!0:delete t[r]}}),e.each(t,function(r,i){t[r]=e.isFunction(i)?i(n):i}),e.each(["minlength","maxlength","min","max"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:typeof t[this]=="string"&&(n=t[this].split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if(typeof t=="string"){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,r){e.validator.methods[t]=n,e.validator.messages[t]=r!==undefined?r:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,r){if(!this.depend(r,n))return"dependency-mismatch";if(n.nodeName.toLowerCase()==="select"){var i=e(n).val();return i&&i.length>0}return this.checkable(n)?this.getLength(t,n)>0:e.trim(t).length>0},remote:function(t,n,r){if(this.optional(n))return"dependency-mismatch";var i=this.previousValue(n);this.settings.messages[n.name]||(this.settings.messages[n.name]={}),i.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=i.message,r=typeof r=="string"&&{url:r}||r;if(i.old===t)return i.valid;i.old=t;var s=this;this.startRequest(n);var o={};return o[n.name]=t,e.ajax(e.extend(!0,{url:r,mode:"abort",port:"validate"+n.name,dataType:"json",data:o,success:function(r){s.settings.messages[n.name].remote=i.originalMessage;var o=r===!0||r==="true";if(o){var u=s.formSubmitted;s.prepareElement(n),s.formSubmitted=u,s.successList.push(n),delete s.invalid[n.name],s.showErrors()}else{var a={},f=r||s.defaultMessage(n,"remote");a[n.name]=i.message=e.isFunction(f)?f(t):f,s.invalid[n.name]=!0,s.showErrors(a)}i.valid=o,s.stopRequest(n,o)}},r)),"pending"},minlength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i>=r},maxlength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i<=r},rangelength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i>=r[0]&&i<=r[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){var n=/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;return this.optional(t)||n.test(e)||n.test("http://"+e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test((new Date(e)).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n=0,r=0,i=!1;e=e.replace(/\D/g,"");for(var s=e.length-1;s>=0;s--){var o=e.charAt(s);r=parseInt(o,10),i&&(r*=2)>9&&(r-=9),n+=r,i=!i}return n%10===0},equalTo:function(t,n,r){var i=e(r);return this.settings.onfocusout&&i.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()}),t===i.val()}}}),e.format=e.validator.format}(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,n,r){var i=e.port;e.mode==="abort"&&(t[i]&&t[i].abort(),t[i]=r)});else{var n=e.ajax;e.ajax=function(r){var i=("mode"in r?r:e.ajaxSettings).mode,s=("port"in r?r:e.ajaxSettings).port;return i==="abort"?(t[s]&&t[s].abort(),t[s]=n.apply(this,arguments)):n.apply(this,arguments)}}}(jQuery),function(e){e.extend(e.fn,{validateDelegate:function(t,n,r){return this.bind(n,function(n){var i=e(n.target);if(i.is(t))return r.apply(i,arguments)})}})}(jQuery),define("jquery.validate",function(){}),typeof TrimPath=="undefined"&&(TrimPath={}),function(){TrimPath==null&&(TrimPath=new Object),TrimPath.evalEx==null&&(TrimPath.evalEx=function(src){return eval(src)});var UNDEFINED;Array.prototype.pop==null&&(Array.prototype.pop=function(){return this.length===0?UNDEFINED:this[--this.length]}),Array.prototype.push==null&&(Array.prototype.push=function(){for(var e=0;e<arguments.length;++e)this[this.length]=arguments[e];return this.length}),TrimPath.parseTemplate=function(e,t,n){n==null&&(n=TrimPath.parseTemplate_etc);var r=parse(e,t,n),i=TrimPath.evalEx(r,t,1);return i!=null?new n.Template(t,e,r,i,n):null};try{String.prototype.process=function(e,t){var n=TrimPath.parseTemplate(this,null);return n!=null?n.process(e,t):this}}catch(e){}TrimPath.parseTemplate_etc={},TrimPath.parseTemplate_etc.statementTag="forelse|for|if|elseif|else|var|macro",TrimPath.parseTemplate_etc.statementDef={"if":{delta:1,prefix:"if (",suffix:") {",paramMin:1},"else":{delta:0,prefix:"} else {"},elseif:{delta:0,prefix:"} else if (",suffix:") {",paramDefault:"true"},"/if":{delta:-1,prefix:"}"},"for":{delta:1,paramMin:3,prefixFunc:function(e,t,n,r){if(e[2]!="in")throw new r.ParseError(n,t.line,"bad for loop statement: "+e.join(" "));var i=e[1],s="__LIST__"+i;return["var ",s," = ",e[3],";","var __LENGTH_STACK__;","if (typeof(__LENGTH_STACK__) == 'undefined' || !__LENGTH_STACK__.length) __LENGTH_STACK__ = new Array();","__LENGTH_STACK__[__LENGTH_STACK__.length] = 0;","if ((",s,") != null) { ","var ",i,"_ct = 0;","for (var ",i,"_index in ",s,") { ",i,"_ct++;","if (typeof(",s,"[",i,"_index]) == 'function') {continue;}","__LENGTH_STACK__[__LENGTH_STACK__.length - 1]++;","var ",i," = ",s,"[",i,"_index];"].join("")}},forelse:{delta:0,prefix:"} } if (__LENGTH_STACK__[__LENGTH_STACK__.length - 1] == 0) { if (",suffix:") {",paramDefault:"true"},"/for":{delta:-1,prefix:"} }; delete __LENGTH_STACK__[__LENGTH_STACK__.length - 1];"},"var":{delta:0,prefix:"var ",suffix:";"},macro:{delta:1,prefixFunc:function(e,t,n,r){var i=e[1].split("(")[0];return["var ",i," = function",e.slice(1).join(" ").substring(i.length),"{ var _OUT_arr = []; var _OUT = { write: function(m) { if (m) _OUT_arr.push(m); } }; "].join("")}},"/macro":{delta:-1,prefix:" return _OUT_arr.join(''); };"}},TrimPath.parseTemplate_etc.modifierDef={eat:function(e){return""},escape:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},capitalize:function(e){return String(e).toUpperCase()},"default":function(e,t){return e!=null?e:t}},TrimPath.parseTemplate_etc.modifierDef.h=TrimPath.parseTemplate_etc.modifierDef.escape,TrimPath.parseTemplate_etc.Template=function(e,t,n,r,i){this.process=function(e,t){e==null&&(e={}),e._MODIFIERS==null&&(e._MODIFIERS={}),e.defined==null&&(e.defined=function(t){return e[t]!=undefined});for(var n in i.modifierDef)e._MODIFIERS[n]==null&&(e._MODIFIERS[n]=i.modifierDef[n]);t==null&&(t={});var s=[],o={write:function(e){s.push(e)}};try{r(o,e,t)}catch(u){if(t.throwExceptions==1)throw u;var a=new String(s.join("")+"[ERROR: "+u.toString()+(u.message?"; "+u.message:"")+"]");return a.exception=u,a}return s.join("")},this.name=e,this.source=t,this.sourceFunc=n,this.toString=function(){return"TrimPath.Template ["+e+"]"}},TrimPath.parseTemplate_etc.ParseError=function(e,t,n){this.name=e,this.line=t,this.message=n},TrimPath.parseTemplate_etc.ParseError.prototype.toString=function(){return"TrimPath template ParseError in "+this.name+": line "+this.line+", "+this.message};var parse=function(e,t,n){e=cleanWhiteSpace(e);var r=["var TrimPath_Template_TEMP = function(_OUT, _CONTEXT, _FLAGS) { with (_CONTEXT) {"],i={stack:[],line:1},s=-1;while(s+1<e.length){var o=s;o=e.indexOf("{",o+1);while(o>=0){var u=e.indexOf("}",o+1),a=e.substring(o,u),f=a.match(/^\{(cdata|minify|eval)/);if(f){var l=f[1],c=o+l.length+1,h=e.indexOf("}",c);if(h>=0){var p;h-c<=0?p="{/"+l+"}":p=e.substring(c+1,h);var d=e.indexOf(p,h+1);if(d>=0){emitSectionText(e.substring(s+1,o),r);var v=e.substring(h+1,d);l=="cdata"?emitText(v,r):l=="minify"?emitText(scrubWhiteSpace(v),r):l=="eval"&&v!=null&&v.length>0&&r.push("_OUT.write( (function() { "+v+" })() );"),o=s=d+p.length-1}}}else if(e.charAt(o-1)!="$"&&e.charAt(o-1)!="\\"){var m=e.charAt(o+1)=="/"?2:1;if(e.substring(o+m,o+10+m).search(TrimPath.parseTemplate_etc.statementTag)==0)break}o=e.indexOf("{",o+1)}if(o<0)break;var u=e.indexOf("}",o+1);if(u<0)break;emitSectionText(e.substring(s+1,o),r),emitStatement(e.substring(o,u+1),i,r,t,n),s=u}emitSectionText(e.substring(s+1),r);if(i.stack.length!=0)throw new n.ParseError(t,i.line,"unclosed, unmatched statement(s): "+i.stack.join(","));return r.push("}}; TrimPath_Template_TEMP"),r.join("")},emitStatement=function(e,t,n,r,i){var s=e.slice(1,-1).split(" "),o=i.statementDef[s[0]];if(o==null){emitSectionText(e,n);return}if(o.delta<0){if(t.stack.length<=0)throw new i.ParseError(r,t.line,"close tag does not match any previous statement: "+e);t.stack.pop()}o.delta>0&&t.stack.push(e);if(o.paramMin!=null&&o.paramMin>=s.length)throw new i.ParseError(r,t.line,"statement needs more parameters: "+e);o.prefixFunc!=null?n.push(o.prefixFunc(s,t,r,i)):n.push(o.prefix);if(o.suffix!=null){if(s.length<=1)o.paramDefault!=null&&n.push(o.paramDefault);else for(var u=1;u<s.length;u++)u>1&&n.push(" "),n.push(s[u]);n.push(o.suffix)}},emitSectionText=function(e,t){if(e.length<=0)return;var n=0,r=e.length-1;while(n<e.length&&e.charAt(n)=="\n")n++;while(r>=0&&(e.charAt(r)==" "||e.charAt(r)=="	"))r--;r<n&&(r=n);if(n>0){t.push('if (_FLAGS.keepWhitespace == true) _OUT.write("');var i=e.substring(0,n).replace("\n","\\n");i.charAt(i.length-1)=="\n"&&(i=i.substring(0,i.length-1)),t.push(i),t.push('");')}var s=e.substring(n,r+1).split("\n");for(var o=0;o<s.length;o++)emitSectionTextLine(s[o],t),o<s.length-1&&t.push('_OUT.write("\\n");\n');if(r+1<e.length){t.push('if (_FLAGS.keepWhitespace == true) _OUT.write("');var i=e.substring(r+1).replace("\n","\\n");i.charAt(i.length-1)=="\n"&&(i=i.substring(0,i.length-1)),t.push(i),t.push('");')}},emitSectionTextLine=function(e,t){var n="}",r=-1;while(r+n.length<e.length){var i="${",s="}",o=e.indexOf(i,r+n.length);if(o<0)break;e.charAt(o+2)=="%"&&(i="${%",s="%}");var u=e.indexOf(s,o+i.length);if(u<0)break;emitText(e.substring(r+n.length,o),t);var a=e.substring(o+i.length,u).replace(/\|\|/g,"#@@#").split("|");for(var f in a)a[f].replace&&(a[f]=a[f].replace(/#@@#/g,"||"));t.push("_OUT.write("),emitExpression(a,a.length-1,t),t.push(");"),r=u,n=s}emitText(e.substring(r+n.length),t)},emitText=function(e,t){if(e==null||e.length<=0)return;e=e.replace(/\\/g,"\\\\"),e=e.replace(/\n/g,"\\n"),e=e.replace(/"/g,'\\"'),t.push('_OUT.write("'),t.push(e),t.push('");')},emitExpression=function(e,t,n){var r=e[t];if(t<=0){n.push(r);return}var i=r.split(":");n.push('_MODIFIERS["'),n.push(i[0]),n.push('"]('),emitExpression(e,t-1,n),i.length>1&&(n.push(","),n.push(i[1])),n.push(")")},cleanWhiteSpace=function(e){return e=e.replace(/\t/g,"    "),e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),e=e.replace(/^(\s*\S*(\s+\S+)*)\s*$/,"$1"),e},scrubWhiteSpace=function(e){return e=e.replace(/^\s+/g,""),e=e.replace(/\s+$/g,""),e=e.replace(/\s+/g," "),e=e.replace(/^(\s*\S*(\s+\S+)*)\s*$/,"$1"),e};TrimPath.parseDOMTemplate=function(e,t,n){t==null&&(t=document);var r=t.getElementById(e),i=r.value;return i==null&&(i=r.innerHTML),i=i.replace(/&lt;/g,"<").replace(/&gt;/g,">"),TrimPath.parseTemplate(i,e,n)},TrimPath.processDOMTemplate=function(e,t,n,r,i){return TrimPath.parseDOMTemplate(e,r,i).process(t,n)}}(),define("trimpath",function(){}),function(e){e.fn.autoSuggest=function(t,n){function s(e){var t=0;for(k in e)e.hasOwnProperty(k)&&t++;return t}function o(){var t=i.extraParams;return e.isFunction(t)?t():t}var r={asHtmlID:!1,startText:"Enter Name Here",usePlaceholder:!1,emptyText:"No Results Found",preFill:{},limitText:"No More Selections Are Allowed",selectedItemProp:"value",selectedValuesProp:"value",searchObjProps:"value",queryParam:"q",retrieveLimit:!1,extraParams:"",matchCase:!1,minChars:1,keyDelay:400,resultsHighlight:!0,neverSubmit:!1,scroll:!1,selectionLimit:!1,showResultList:!0,showResultListWhenNoMatch:!1,canGenerateNewSelections:!0,start:function(){},selectionClick:function(e){},selectionAdded:function(e){},selectionRemoved:function(e){e.remove()},formatList:!1,beforeRetrieve:function(e){return e},retrieveComplete:function(e){return e},resultClick:function(e){},resultsComplete:function(){}},i=e.extend(r,n),u,a=null;typeof t=="function"?u=t:typeof t=="string"?u=function(n,r){var s="";i.retrieveLimit&&(s="&limit="+encodeURIComponent(i.retrieveLimit)),a=e.getJSON(t+"?"+i.queryParam+"="+encodeURIComponent(n)+s+o(),function(e){var t=i.retrieveComplete.call(this,e);r(t,n)})}:typeof t=="object"&&s(t)>0&&(u=function(e,n){n(t,e)});if(u)return this.each(function(t){function L(){var e=r.val().replace(/[\\]+|[\/]+/g,"");if(e==x)return;x=e,e.length>=i.minChars?(f.addClass("loading"),A(e)):(f.removeClass("loading"),c.hide())}function A(e){i.beforeRetrieve&&(e=i.beforeRetrieve.call(this,e)),P(),u(e,M)}function M(t,n){i.matchCase||(n=n.toLowerCase()),n=n.replace("(","\\(","g").replace(")","\\)","g");var u=0;c.html(h.html("")).hide();var a=s(t);for(var l=0;l<a;l++){var d=l;O++;var v=!1;if(i.searchObjProps=="value")var m=t[d].value;else{var m="",g=i.searchObjProps.split(",");for(var y=0;y<g.length;y++){var b=e.trim(g[y]);m=m+t[d][b]+" "}}m&&(i.matchCase||(m=m.toLowerCase()),m.search(n)!=-1&&p.val().search(","+t[d][i.selectedValuesProp]+",")==-1&&(v=!0));if(v){var w=e('<li class="as-result-item" id="as-result-item-'+d+'"></li>').click(function(){var t=e(this).data("data"),n=t.num;if(e("#as-selection-"+n,f).length<=0&&!N){var s=t.attributes;r.val("").focus(),x="",_(s,n),i.resultClick.call(this,t),c.hide()}N=!1}).mousedown(function(){o=!1}).mouseover(function(){e("li",h).removeClass("active"),e(this).addClass("active")}).data("data",{attributes:t[d],num:O}),E=e.extend({},t[d]);if(!i.matchCase)var S=new RegExp("(?![^&;]+;)(?!<[^<>]*)("+n+")(?![^<>]*>)(?![^&;]+;)","gi");else var S=new RegExp("(?![^&;]+;)(?!<[^<>]*)("+n+")(?![^<>]*>)(?![^&;]+;)","g");i.resultsHighlight&&n.length>0&&(E[i.selectedItemProp]=E[i.selectedItemProp].replace(S,"<em>$1</em>")),i.formatList?w=i.formatList.call(this,E,w):w=w.html(E[i.selectedItemProp]),h.append(w),delete E,u++;if(i.retrieveLimit&&i.retrieveLimit==u)break}}f.removeClass("loading"),u<=0&&h.html('<li class="as-message">'+i.emptyText+"</li>"),h.css("width",f.outerWidth()),i.scroll&&h.css({"max-height":i.scroll,"overflow-y":"auto"}),(u>0||!i.showResultListWhenNoMatch)&&c.show(),i.resultsComplete.call(this)}function _(t,n){p.val((p.val()||",")+t[i.selectedValuesProp]+",");var s=e('<li class="as-selection-item" id="as-selection-'+n+'" data-value="'+t[i.selectedValuesProp]+'"></li>').click(function(){i.selectionClick.call(this,e(this)),f.children().removeClass("selected"),e(this).addClass("selected")}).mousedown(function(){o=!1}),u=e('<a class="as-close">&times;</a>').click(function(){return p.val(p.val().replace(","+t[i.selectedValuesProp]+",",",")),i.selectionRemoved.call(this,s),o=!0,r.focus(),!1});return l.before(s.html(t[i.selectedItemProp]).prepend(u)),s.data("originalData",t),i.selectionAdded.call(this,l.prev(),t[i.selectedValuesProp]),l.prev()}function D(t){if(e(":visible",c).length>0){var n=e("li",c);if(t=="down")var r=n.eq(0);else var r=n.filter(":last");var s=e("li.active:first",c);s.length>0&&(t=="down"?r=s.next():r=s.prev()),n.removeClass("active"),r.addClass("active"),i.scroll&&r.length&&(r.position().top+r.height()>e(h).height()||r.position().top<0)&&e(h).scrollTop(e(h).scrollTop()+r.position().top)}}function P(){a&&(a.abort(),a=null)}if(!i.asHtmlID){t=t+""+Math.floor(Math.random()*100);var n="as-input-"+t}else{t=i.asHtmlID;var n=t}i.start.call(this,{add:function(t){_(t,"u"+e("li",f).length).addClass("blur")},remove:function(e){p.val(p.val().replace(","+e+",",",")),f.find('li[data-value = "'+e+'"]').remove()}});var r=e(this);r.attr("autocomplete","off").addClass("as-input").attr("id",n),i.usePlaceholder?r.attr("placeholder",i.startText):r.val(i.startText);var o=!1;r.wrap('<ul class="as-selections" id="as-selections-'+t+'"></ul>').wrap('<li class="as-original" id="as-original-'+t+'"></li>');var f=e("#as-selections-"+t),l=e("#as-original-"+t),c=e('<div class="as-results" id="as-results-'+t+'"></div>').hide(),h=e('<ul class="as-list"></ul>'),p=e('<input type="hidden" class="as-values" name="as_values_'+t+'" id="as-values-'+t+'" />'),d="";if(typeof i.preFill=="string"){var v=i.preFill.split(",");for(var m=0;m<v.length;m++){var g={};g[i.selectedValuesProp]=v[m],v[m]!=""&&_(g,"000"+m)}d=i.preFill}else{d="";var y=0;for(k in i.preFill)i.preFill.hasOwnProperty(k)&&y++;if(y>0)for(var m=0;m<y;m++){var b=i.preFill[m][i.selectedValuesProp];b==undefined&&(b=""),d=d+b+",",b!=""&&_(i.preFill[m],"000"+m)}}if(d!=""){r.val("");var w=d.substring(d.length-1);w!=","&&(d+=","),p.val(","+d),e("li.as-selection-item",f).addClass("blur").removeClass("selected")}r.after(p),f.click(function(){o=!0,r.focus()}).mousedown(function(){o=!1}).after(c);var E=null,S=null,x="",T=0,N=!1,C=null;r.focus(function(){return!i.usePlaceholder&&e(this).val()==i.startText&&p.val()==""?e(this).val(""):o&&(e("li.as-selection-item",f).removeClass("blur"),e(this).val()!=""&&(h.css("width",f.outerWidth()),c.show())),E&&clearInterval(E),E=setInterval(function(){i.showResultList&&(i.selectionLimit&&e("li.as-selection-item",f).length>=i.selectionLimit?(h.html('<li class="as-message">'+i.limitText+"</li>"),c.show()):L())},i.keyDelay),o=!0,i.minChars==0&&A(e(this).val()),!0}).blur(function(){!i.usePlaceholder&&e(this).val()==""&&p.val()==""&&d==""&&i.minChars>0?e(this).val(i.startText):o&&(e("li.as-selection-item",f).addClass("blur").removeClass("selected"),c.hide()),E&&clearInterval(E)}).keydown(function(t){C=t.keyCode,first_focus=!1;switch(t.keyCode){case 38:t.preventDefault(),D("up");break;case 40:t.preventDefault(),D("down");break;case 8:if(r.val()==""){var n=p.val().split(",");n=n[n.length-2],f.children().not(l.prev()).removeClass("selected"),l.prev().hasClass("selected")?(p.val(p.val().replace(","+n+",",",")),i.selectionRemoved.call(this,l.prev())):(i.selectionClick.call(this,l.prev()),l.prev().addClass("selected"))}r.val().length==1&&(c.hide(),x="",P()),e(":visible",c).length>0&&(S&&clearTimeout(S),S=setTimeout(function(){L()},i.keyDelay));break;case 9:case 188:var s=e("li.active:first:visible",c);if(s.length===0){if(i.canGenerateNewSelections){N=!0;var o=r.val().replace(/(,)/g,"");if(o!==""&&p.val().search(","+o+",")<0&&o.length>=i.minChars){t.preventDefault();var u={};u[i.selectedItemProp]=o,u[i.selectedValuesProp]=o;var a=e("li",f).length;_(u,"00"+(a+1)),r.val(""),P()}}break};case 13:N=!1;var s=e("li.active:first",c);s.length>0&&(s.click(),c.hide()),(i.neverSubmit||s.length>0)&&t.preventDefault();break;case 27:case 16:case 20:P(),c.hide()}});var O=0})}}(jQuery),define("jquery.autosuggest",function(){}),define("oae.api.util",["exports","require","jquery","underscore","oae.api.config","jquery.validate","trimpath","jquery.autosuggest"],function(e,t,n,r,i){var s=e.init=function(e){d().init(),g().init(),h().init(e)},o=e.staticBatch=function(e,t){if(!e||e.length===0)throw new Error("At least one path should be provided to the static batch");n.ajax({url:"/api/ui/staticbatch",data:{files:e},success:function(e){t(null,e)},error:function(e,n){t({code:e.status,msg:e.statusText})}})},u=e.generateId=function(){return"oae-"+Math.round(Math.random()*1e7)+"-"+Math.round(Math.random()*1e7)},a=e.isBlank=function(e){var t=n("<div>").html(e).text();return n.trim(t)?!1:!0},f=e.setBrowserTitle=function(e){if(!e)throw new Error("No valid page title has been provided");r.isString(e)&&(e=[e]),e.splice(0,0,"__MSG__TITLE_PREFIX__"),document.title=t("oae.api.i18n").translate(e.join(" - "))},l=[],c=[],h=e.template=function(){var e={encodeForHTML:function(e){return b().encodeForHTML(e)},encodeForHTMLAttribute:function(e){return b().encodeForHTMLAttribute(e)},encodeForURL:function(e){return b().encodeForURL(e)}},r=function(e){t(["text!/shared/oae/macros/activity.47119b4e.html","text!/shared/oae/macros/list.8633681f.html"],function(n,r){var i=t("oae.api.i18n");c.push(i.translate(r)),c.push(i.translate(n)),e()})},i=function(r,i,s){if(!r)throw new Error("No valid template has been provided");i=i||{},i.oae=t("oae.core"),i._=t("underscore"),i.jQuery=t("jquery"),i.$=t("jquery"),i._MODIFIERS=e,r=n(r);if(r.length===0)throw new Error("The provided template could not be found");var o=r.attr("id");if(!l[o]){var u=r[0].firstChild.data.toString();u=c.join("")+u;try{l[o]=TrimPath.parseTemplate(u,o)}catch(a){throw new Error('Parsing of template "'+o+'" failed: '+a)}}var f=null;try{f=l[o].process(i,{throwExceptions:!0}),f=f.replace(/<!--(?:.|\n)*?-->/gm,"")}catch(a){throw new Error('Rendering of template "'+o+'" failed: '+a)}if(!s)return f;s=n(s),s.html(f)};return{init:r,render:i}},p=e.notification=function(e,t,r){if(!t)throw new Error("A valid notification message should be provided");var i=n("#oae-notification-container");i.length===0&&(i=n("<div>").attr("id","oae-notification-container").addClass("notifications top-center"),n("body").append(i)),e&&(t="<h4>"+b().encodeForHTML(e)+"</h4>"+t),i.notify({fadeOut:{enabled:!0,delay:5e3},type:r,message:{html:t},transition:"slideDown"}).show()},d=e.validation=function(){var e=function(){n.validator.addMethod("maxlength-short",function(e,t){return n.trim(e.length)<=1e3}),n.validator.addMethod("maxlength-medium",function(e,t){return n.trim(e.length)<=1e4}),n.validator.addMethod("maxlength-long",function(e,t){return n.trim(e.length)<=1e5}),n.validator.addMethod("nospaces",function(e,t){return this.optional(t)||e.indexOf(" ")===-1}),n.validator.addMethod("prependhttp",function(e,t){return n.trim(e)!==""&&e.substring(0,7)!=="http://"&&e.substring(0,6)!=="ftp://"&&e.substring(0,8)!=="https://"&&n(t).val("http://"+e),!0})},t=function(e,t){if(!e)throw new Error("A valid form should be provided");e=n(e),t=t||{};var i=null;t.invalidHandler&&n.isFunction(t.invalidHandler)&&(i=t.invalidHandler);var s=null;t.submitHandler&&n.isFunction(t.submitHandler)&&(s=t.submitHandler),t.methods&&n.each(t.methods,function(e,t){n.validator.addMethod(e,t.method,t.text)}),t.submitHandler=function(t,n){return r(e),s&&s(t,n),!1},t.invalidHandler=function(t,n){r(e),i&&i(t,n)},t.highlight=function(e){n(e).parents(".control-group").addClass("error")},t.unhighlight=function(e){n(e).parents(".control-group").removeClass("error")},t.errorPlacement=t.errorPlacement||function(e,t){e.attr("id",t.attr("name")+"-error"),t.attr("aria-invalid","true"),t.attr("aria-describedby",t.attr("name")+"-error"),e.addClass("oae-error");var r=n(".help",t.parents(".control-group"));r.length===0?(e.addClass("help-block"),e.insertAfter(t)):r.append(e)},e.validate(t)},r=function(e){if(!e)throw new Error("A valid form should be provided");e=n(e),e.find(".oae-error").remove(),e.find(".error").removeClass("error"),e.find("*[aria-invalid]").removeAttr("aria-invalid"),e.find("*[aria-describedby]").removeAttr("aria-describedby")};return{init:e,validate:t,clear:r}},v=e.clickover=function(e,t,r){if(!e)throw new Error("A valid trigger element should be provided");if(!t)throw new Error("A valid content element should be provided");e=n(e),t=n(t),r=r||{};var i={global_close:!0,html:!0,placement:"bottom",title:""};r=n.extend(i,r),r.onShown&&(showCallback=r.onShown,r.onShown=function(){showCallback(this.$tip)}),r.content=t.html(),e.clickover(r),e.trigger("click"),n(".popover-title").remove()},m=null,g=e.autoSuggest=function(){var e={canGenerateNewSelections:!1,minChars:2,retrieveLimit:10,url:"/api/search/general",scroll:117,searchObjProps:"id, displayName",selectedItemProp:"displayName",selectedValuesProp:"id"},s=function(){n(document).on("focus","ul.as-selections input",function(){n(this).parents("ul.as-selections").addClass("as-selections-focus")}),n(document).on("focusout","ul.as-selections input",function(){n(this).parents("ul.as-selections").removeClass("as-selections-focus")})},o=function(e){m?e():t(["text!/shared/oae/macros/autosuggest.68e93bf9.html"],function(r){r=t("oae.api.i18n").translate(r),m=n("<div>").append(r),e()})},u=function(s,u,a,f){if(!s)throw new Error("A valid input element should be provided.");o(function(){s=n(s);var o=t("oae.api.i18n");if(!u.startText){var l=s.attr("placeholder");u.startText=l?l:o.translate("__MSG__ENTER_NAME_HERE__")}u.emptyText||(u.emptyText=o.translate("__MSG__NO_RESULTS_FOUND__")),u=r.extend({},e,u),a||(a=["user","group"]),u.extraParams=u.extraParams||"",n.each(a,function(e,t){u.extraParams+="&resourceTypes="+t}),u.extraParams+="&includeExternal="+!i.getValue("oae-tenants","tenantprivacy","tenantprivate"),u.searchObjProps+=",query",u.preFill&&n.each(u.preFill,function(e,t){t[u.selectedItemProp]=b().encodeForHTML(t[u.selectedItemProp])}),u.ghosts&&n.each(u.ghosts,function(e,t){t[u.selectedItemProp]=b().encodeForHTML(t[u.selectedItemProp])});var c=null;u.retrieveComplete&&(c=u.retrieveComplete),u.retrieveComplete=function(e){var t=n.url(this.url).param("q");return n.each(e.results,function(e,n){n.displayName=b().encodeForHTML(n.displayName),n.query=t}),c?c(e):e.results},u.formatList||(u.formatList=function(e,t){return t.html(h().render(n("#autosuggest-suggested-template",m),{data:e}))});var p=null;u.selectionRemoved&&(p=u.selectionRemoved),u.selectionRemoved=function(e){var t=!1,i=n(e).data("originalData");u.preFill&&(t=r.some(u.preFill,function(e){return e.id===i.id&&e.fixed===!0})),!t&&u.ghosts&&(t=r.some(u.ghosts,function(e){return e.id===i.id})),t||(p?p(e):e.remove(),u.selectionChanged&&u.selectionChanged())};var d=null;u.selectionAdded&&(d=u.selectionAdded),u.selectionAdded=function(e){var t=n(e);t.addClass("oae-threedots");var r=t.data("originalData");if(r.resourceType){var i=n("<div>").addClass("oae-thumbnail icon-oae-"+r.resourceType);r.thumbnailUrl&&i.append(n("<img>").attr("src",r.thumbnailUrl)),t.prepend(i)}d&&d(e),u.selectionChanged&&u.selectionChanged()};var v=s.autoSuggest(u.url,u),g=v.parents("ul");u.preFill&&n.each(u.preFill,function(e,t){t.fixed&&n('li[data-value="'+t[u.selectedValuesProp]+'"]').addClass("as-fixed-item")}),u.ghosts&&n.each(u.ghosts,function(e,t){g.prepend(h().render(n("#autosuggest-selected-template",m),{index:e,ghostItem:t,options:u}));var r=n("li",g).first();r.data("originalData",t),r.on("click",function(){n(this).toggleClass("as-ghost-selected"),u.selectionChanged&&u.selectionChanged()})}),n(".as-input",g).before('<label class="oae-aural-text" for="'+n(".as-input",g).attr("id")+'">'+u.startText+"</label>"),r.isFunction(f)&&f()})},a=function(e){if(!e)throw new Error("An valid input element should be provided.");e=n(e),n(".as-selections input",e).focus()},f=function(e){if(!e)throw new Error("An valid input element should be provided.");e=n(e);var t=[];return n.each(e.find(".as-selections > li"),function(e,r){var i=n(r),s=i.attr("data-value"),o=i.data().originalData,u=i.hasClass("as-ghost-item");s&&o&&(!u||u&&i.hasClass("as-ghost-selected"))&&t.push({id:s,displayName:o.displayName,resourceType:o.resourceType,thumbnailUrl:o.thumbnailUrl,visibility:o.visibility})}),t};return{init:s,setup:u,focus:a,getSelection:f}},y=e.renderMath=function(e){},b=e.security=function(){var e=function(e){return e?n.encoder.encodeForHTML(e):""},t=function(e,t){return e?(t=t||"tmp",n.encoder.encodeForHTMLAttribute(t,e,!0)):""},r=function(e){return e?n.encoder.encodeForURL(e):""};return{encodeForHTML:e,encodeForHTMLAttribute:t,encodeForURL:r}},w=e.redirect=function(){var e=function(){window.location="/"},t=function(){window.location="/me"},r=function(){window.location="/accessdenied?url="+n.url().attr("path")},i=function(){window.location="/notfound"},s=function(){window.location="/unavailable"},o=function(){window.location="/maintenance"};return{login:e,me:t,accessdenied:r,notfound:i,unavailable:s,maintenance:o}},E=e.showPage=function(){n("body").show()}}),function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N;n=function(e){return new n.prototype.init(e)},typeof require!="undefined"&&typeof exports!="undefined"&&typeof module!="undefined"?module.exports=n:e.Globalize=n,n.cultures={},n.prototype={constructor:n,init:function(e){return this.cultures=n.cultures,this.cultureSelector=e,this}},n.prototype.init.prototype=n.prototype,n.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},n.cultures["default"].calendar=n.cultures["default"].calendars.standard,n.cultures.en=n.cultures["default"],n.cultureSelector="en",r=/^0x[a-f0-9]+$/i,i=/^[+-]?infinity$/i,s=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,o=/^\s+|\s+$/g,u=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},a=function(e,t){return e.substr(e.length-t.length)===t},f=function(e){var n,r,i,s,o,u,a=arguments[0]||{},p=1,d=arguments.length,e=!1;typeof a=="boolean"&&(e=a,a=arguments[1]||{},p=2),typeof a!="object"&&!c(a)&&(a={});for(;p<d;p++)if((n=arguments[p])!=null)for(r in n){i=a[r],s=n[r];if(a===s)continue;e&&s&&(h(s)||(o=l(s)))?(o?(o=!1,u=i&&l(i)?i:[]):u=i&&h(i)?i:{},a[r]=f(e,u,s)):s!==t&&(a[r]=s)}return a},l=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},c=function(e){return Object.prototype.toString.call(e)==="[object Function]"},h=function(e){return Object.prototype.toString.call(e)==="[object Object]"},p=function(e,t){return e.indexOf(t)===0},d=function(e){return(e+"").replace(o,"")},v=function(e){return e|0},m=function(e,t,n){var r;for(r=e.length;r<t;r+=1)e=n?"0"+e:e+"0";return e},g=function(e,t){var n=0,r=!1;for(var i=0,s=e.length;i<s;i++){var o=e.charAt(i);switch(o){case"'":r?t.push("'"):n++,r=!1;break;case"\\":r&&t.push("\\"),r=!r;break;default:t.push(o),r=!1}}return n},y=function(e,t){t=t||"F";var n,r=e.patterns,i=t.length;if(i===1){n=r[t];if(!n)throw"Invalid date format string '"+t+"'.";t=n}else i===2&&t.charAt(0)==="%"&&(t=t.charAt(1));return t},b=function(e,t,n){function T(e,t){var n,r=e+"";return t>1&&r.length<t?(n=c[t-2]+r,n.substr(n.length-t,t)):(n=r,n)}function N(){return h||p?h:(h=d.test(t),p=!0,h)}function C(e,t){if(w)return w[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}var r=n.calendar,i=r.convert;if(!t||!t.length||t==="i"){var s;if(n&&n.name.length)if(i)s=b(e,r.patterns.F,n);else{var o=new Date(e.getTime()),u=S(e,r.eras);o.setFullYear(x(e,r,u)),s=o.toLocaleString()}else s=e.toString();return s}var a=r.eras,f=t==="s";t=y(r,t),s=[];var l,c=["0","00","000"],h,p,d=/([^d]|^)(d|dd)([^d]|$)/g,v=0,m=E(),w;!f&&i&&(w=i.fromGregorian(e));for(;;){var k=m.lastIndex,L=m.exec(t),A=t.slice(k,L?L.index:t.length);v+=g(A,s);if(!L)break;if(v%2){s.push(L[0]);continue}var O=L[0],M=O.length;switch(O){case"ddd":case"dddd":var _=M===3?r.days.namesAbbr:r.days.names;s.push(_[e.getDay()]);break;case"d":case"dd":h=!0,s.push(T(C(e,2),M));break;case"MMM":case"MMMM":var D=C(e,1);s.push(r.monthsGenitive&&N()?r.monthsGenitive[M===3?"namesAbbr":"names"][D]:r.months[M===3?"namesAbbr":"names"][D]);break;case"M":case"MM":s.push(T(C(e,1)+1,M));break;case"y":case"yy":case"yyyy":D=w?w[0]:x(e,r,S(e,a),f),M<4&&(D%=100),s.push(T(D,M));break;case"h":case"hh":l=e.getHours()%12,l===0&&(l=12),s.push(T(l,M));break;case"H":case"HH":s.push(T(e.getHours(),M));break;case"m":case"mm":s.push(T(e.getMinutes(),M));break;case"s":case"ss":s.push(T(e.getSeconds(),M));break;case"t":case"tt":D=e.getHours()<12?r.AM?r.AM[0]:" ":r.PM?r.PM[0]:" ",s.push(M===1?D.charAt(0):D);break;case"f":case"ff":case"fff":s.push(T(e.getMilliseconds(),3).substr(0,M));break;case"z":case"zz":l=e.getTimezoneOffset()/60,s.push((l<=0?"+":"-")+T(Math.floor(Math.abs(l)),M));break;case"zzz":l=e.getTimezoneOffset()/60,s.push((l<=0?"+":"-")+T(Math.floor(Math.abs(l)),2)+":"+T(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":r.eras&&s.push(r.eras[S(e,a)].name);break;case"/":s.push(r["/"]);break;default:throw"Invalid date format pattern '"+O+"'."}}return s.join("")},function(){var e;e=function(e,t,n){var r=n.groupSizes,i=r[0],s=1,o=Math.pow(10,t),u=Math.round(e*o)/o;isFinite(u)||(u=e),e=u;var a=e+"",f="",l=a.split(/e/i),c=l.length>1?parseInt(l[1],10):0;a=l[0],l=a.split("."),a=l[0],f=l.length>1?l[1]:"";var h;c>0?(f=m(f,c,!1),a+=f.slice(0,c),f=f.substr(c)):c<0&&(c=-c,a=m(a,c+1),f=a.slice(-c,a.length)+f,a=a.slice(0,-c)),t>0?f=n["."]+(f.length>t?f.slice(0,t):m(f,t)):f="";var p=a.length-1,d=n[","],v="";while(p>=0){if(i===0||i>p)return a.slice(0,p+1)+(v.length?d+v+f:f);v=a.slice(p-i+1,p+1)+(v.length?d+v:""),p-=i,s<r.length&&(i=r[s],s++)}return a.slice(0,p+1)+d+v+f},w=function(t,n,r){if(!isFinite(t))return t===Infinity?r.numberFormat.positiveInfinity:t===-Infinity?r.numberFormat.negativeInfinity:r.numberFormat.NaN;if(!n||n==="i")return r.name.length?t.toLocaleString():t.toString();n=n||"D";var i=r.numberFormat,s=Math.abs(t),o=-1,u;n.length>1&&(o=parseInt(n.slice(1),10));var a=n.charAt(0).toUpperCase(),f;switch(a){case"D":u="n",s=v(s),o!==-1&&(s=m(""+s,o,!0)),t<0&&(s="-"+s);break;case"N":f=i;case"C":f=f||i.currency;case"P":f=f||i.percent,u=t<0?f.pattern[0]:f.pattern[1]||"n",o===-1&&(o=f.decimals),s=e(s*(a==="P"?100:1),o,f);break;default:throw"Bad number format specifier: "+a}var l=/n|\$|-|%/g,c="";for(;;){var h=l.lastIndex,p=l.exec(u);c+=u.slice(h,p?p.index:u.length);if(!p)break;switch(p[0]){case"n":c+=s;break;case"$":c+=i.currency.symbol;break;case"-":/[1-9]/.test(s)&&(c+=i["-"]);break;case"%":c+=i.percent.symbol}}return c}}(),E=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},S=function(e,t){if(!t)return 0;var n,r=e.getTime();for(var i=0,s=t.length;i<s;i++){n=t[i].start;if(n===null||r>=n)return i}return 0},x=function(e,t,n,r){var i=e.getFullYear();return!r&&t.eras&&(i-=t.eras[n].offset),i},function(){var e,t,n,r,i,s,o;e=function(e,t){var n=new Date,r=S(n);if(t<100){var i=e.twoDigitYearMax;i=typeof i=="string"?(new Date).getFullYear()%100+parseInt(i,10):i;var s=x(n,e,r);t+=s-s%100,t>i&&(t-=100)}return t},t=function(e,t,n){var r,i=e.days,a=e._upperDays;return a||(e._upperDays=a=[o(i.names),o(i.namesAbbr),o(i.namesShort)]),t=s(t),n?(r=u(a[1],t),r===-1&&(r=u(a[2],t))):r=u(a[0],t),r},n=function(e,t,n){var r=e.months,i=e.monthsGenitive||e.months,a=e._upperMonths,f=e._upperMonthsGen;a||(e._upperMonths=a=[o(r.names),o(r.namesAbbr)],e._upperMonthsGen=f=[o(i.names),o(i.namesAbbr)]),t=s(t);var l=u(n?a[1]:a[0],t);return l<0&&(l=u(n?f[1]:f[0],t)),l},r=function(e,t){var n=e._parseRegExp;if(!n)e._parseRegExp=n={};else{var r=n[t];if(r)return r}var i=y(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),s=["^"],o=[],u=0,a=0,f=E(),l;while((l=f.exec(i))!==null){var c=i.slice(u,l.index);u=f.lastIndex,a+=g(c,s);if(a%2){s.push(l[0]);continue}var h=l[0],p=h.length,d;switch(h){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":d="(\\D+)";break;case"tt":case"t":d="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":d="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":d="(\\d\\d?)";break;case"zzz":d="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":d="([+-]?\\d\\d?)";break;case"/":d="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+h+"'."}d&&s.push(d),o.push(l[0])}g(i.slice(u),s),s.push("$");var v=s.join("").replace(/\s+/g,"\\s+"),m={regExp:v,groups:o};return n[t]=m},i=function(e,t,n){return e<t||e>n},s=function(e){return e.split("").join(" ").toUpperCase()},o=function(e){var t=[];for(var n=0,r=e.length;n<r;n++)t[n]=s(e[n]);return t},T=function(s,o,u){s=d(s);var a=u.calendar,f=r(a,o),l=(new RegExp(f.regExp)).exec(s);if(l===null)return null;var c=f.groups,h=null,v=null,m=null,g=null,y=null,b=0,w,E=0,S=0,x=0,T=null,N=!1;for(var C=0,k=c.length;C<k;C++){var L=l[C+1];if(L){var A=c[C],O=A.length,M=parseInt(L,10);switch(A){case"dd":case"d":g=M;if(i(g,1,31))return null;break;case"MMM":case"MMMM":m=n(a,L,O===3);if(i(m,0,11))return null;break;case"M":case"MM":m=M-1;if(i(m,0,11))return null;break;case"y":case"yy":case"yyyy":v=O<4?e(a,M):M;if(i(v,0,9999))return null;break;case"h":case"hh":b=M,b===12&&(b=0);if(i(b,0,11))return null;break;case"H":case"HH":b=M;if(i(b,0,23))return null;break;case"m":case"mm":E=M;if(i(E,0,59))return null;break;case"s":case"ss":S=M;if(i(S,0,59))return null;break;case"tt":case"t":N=a.PM&&(L===a.PM[0]||L===a.PM[1]||L===a.PM[2]);if(!N&&(!a.AM||L!==a.AM[0]&&L!==a.AM[1]&&L!==a.AM[2]))return null;break;case"f":case"ff":case"fff":x=M*Math.pow(10,3-O);if(i(x,0,999))return null;break;case"ddd":case"dddd":y=t(a,L,O===3);if(i(y,0,6))return null;break;case"zzz":var _=L.split(/:/);if(_.length!==2)return null;w=parseInt(_[0],10);if(i(w,-12,13))return null;var D=parseInt(_[1],10);if(i(D,0,59))return null;T=w*60+(p(L,"-")?-D:D);break;case"z":case"zz":w=M;if(i(w,-12,13))return null;T=w*60;break;case"g":case"gg":var P=L;if(!P||!a.eras)return null;P=d(P.toLowerCase());for(var H=0,B=a.eras.length;H<B;H++)if(P===a.eras[H].name.toLowerCase()){h=H;break}if(h===null)return null}}}var j=new Date,F,I=a.convert;F=I?I.fromGregorian(j)[0]:j.getFullYear(),v===null?v=F:a.eras&&(v+=a.eras[h||0].offset),m===null&&(m=0),g===null&&(g=1);if(I){j=I.toGregorian(v,m,g);if(j===null)return null}else{j.setFullYear(v,m,g);if(j.getDate()!==g)return null;if(y!==null&&j.getDay()!==y)return null}N&&b<12&&(b+=12),j.setHours(b,E,S,x);if(T!==null){var q=j.getMinutes()-(T+j.getTimezoneOffset());j.setHours(j.getHours()+parseInt(q/60,10),q%60)}return j}}(),N=function(e,t,n){var r=t["-"],i=t["+"],s;switch(n){case"n -":r=" "+r,i=" "+i;case"n-":a(e,r)?s=["-",e.substr(0,e.length-r.length)]:a(e,i)&&(s=["+",e.substr(0,e.length-i.length)]);break;case"- n":r+=" ",i+=" ";case"-n":p(e,r)?s=["-",e.substr(r.length)]:p(e,i)&&(s=["+",e.substr(i.length)]);break;case"(n)":p(e,"(")&&a(e,")")&&(s=["-",e.substr(1,e.length-2)])}return s||["",e]},n.prototype.findClosestCulture=function(e){return n.findClosestCulture.call(this,e)},n.prototype.format=function(e,t,r){return n.format.call(this,e,t,r)},n.prototype.localize=function(e,t){return n.localize.call(this,e,t)},n.prototype.parseInt=function(e,t,r){return n.parseInt.call(this,e,t,r)},n.prototype.parseFloat=function(e,t,r){return n.parseFloat.call(this,e,t,r)},n.prototype.culture=function(e){return n.culture.call(this,e)},n.addCultureInfo=function(e,t,n){var r={},i=!1;typeof e!="string"?(n=e,e=this.culture().name,r=this.cultures[e]):typeof t!="string"?(n=t,i=this.cultures[e]==null,r=this.cultures[e]||this.cultures["default"]):(i=!0,r=this.cultures[t]),this.cultures[e]=f(!0,{},r,n),i&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},n.findClosestCulture=function(e){var t;if(!e)return this.cultures[this.cultureSelector]||this.cultures["default"];typeof e=="string"&&(e=e.split(","));if(l(e)){var n,r=this.cultures,i=e,s,o=i.length,u=[];for(s=0;s<o;s++){e=d(i[s]);var a,f=e.split(";");n=d(f[0]),f.length===1?a=1:(e=d(f[1]),e.indexOf("q=")===0?(e=e.substr(2),a=parseFloat(e),a=isNaN(a)?0:a):a=1),u.push({lang:n,pri:a})}u.sort(function(e,t){return e.pri<t.pri?1:-1});for(s=0;s<o;s++){n=u[s].lang,t=r[n];if(t)return t}for(s=0;s<o;s++){n=u[s].lang;do{var c=n.lastIndexOf("-");if(c===-1)break;n=n.substr(0,c),t=r[n];if(t)return t}while(1)}for(s=0;s<o;s++){n=u[s].lang;for(var h in r){var p=r[h];if(p.language==n)return p}}}else if(typeof e=="object")return e;return t||null},n.format=function(e,t,n){return culture=this.findClosestCulture(n),e instanceof Date?e=b(e,t,culture):typeof e=="number"&&(e=w(e,t,culture)),e},n.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures["default"].messages[e]},n.parseDate=function(e,t,n){n=this.findClosestCulture(n);var r,i,s;if(t){typeof t=="string"&&(t=[t]);if(t.length)for(var o=0,u=t.length;o<u;o++){var a=t[o];if(a){r=T(e,a,n);if(r)break}}}else{s=n.calendar.patterns;for(i in s){r=T(e,s[i],n);if(r)break}}return r||null},n.parseInt=function(e,t,r){return v(n.parseFloat(e,t,r))},n.parseFloat=function(e,t,n){typeof t!="number"&&(n=t,t=10);var o=this.findClosestCulture(n),u=NaN,a=o.numberFormat;e.indexOf(o.numberFormat.currency.symbol)>-1&&(e=e.replace(o.numberFormat.currency.symbol,""),e=e.replace(o.numberFormat.currency["."],o.numberFormat["."])),e=d(e);if(i.test(e))u=parseFloat(e);else if(!t&&r.test(e))u=parseInt(e,16);else{var f=N(e,a,a.pattern[0]),l=f[0],c=f[1];l===""&&a.pattern[0]!=="(n)"&&(f=N(e,a,"(n)"),l=f[0],c=f[1]),l===""&&a.pattern[0]!=="-n"&&(f=N(e,a,"-n"),l=f[0],c=f[1]),l=l||"+";var h,p,v=c.indexOf("e");v<0&&(v=c.indexOf("E")),v<0?(p=c,h=null):(p=c.substr(0,v),h=c.substr(v+1));var m,g,y=a["."],b=p.indexOf(y);b<0?(m=p,g=null):(m=p.substr(0,b),g=p.substr(b+y.length));var w=a[","];m=m.split(w).join("");var E=w.replace(/\u00A0/g," ");w!==E&&(m=m.split(E).join(""));var S=l+m;g!==null&&(S+="."+g);if(h!==null){var x=N(h,a,"-n");S+="e"+(x[0]||"+")+x[1]}s.test(S)&&(u=parseFloat(S))}return u},n.culture=function(e){return typeof e!="undefined"&&(this.cultureSelector=e),this.findClosestCulture(e)||this.culture["default"]}}(this),define("globalize",function(){}),define("oae.api.l10n",["exports","jquery","underscore","oae.api.config","globalize"],function(e,t,n,r){var i=e.init=function(e,t){var n=r.getValue("oae-principals","user","defaultLanguage");e=e||n,e==="debug"&&(e=n),e=e.replace("_","-"),require(["/shared/vendor/js/l10n/cultures.c4f256e5/globalize.culture."+e+".js"],function(){Globalize.culture(e),t()})},s=function(e,t){n.isNumber(e)?e=new Date(e):n.isString(e)&&(e=new Date(parseInt(e,10)));if(t!==!1){var r=require("oae.core").data.me.locale;if(r){var i=r.timezone.offset;e.setTime(e.getTime()+i*60*60*1e3)}}return e},o=e.transformDate=function(e){if(!e)throw new Error("A date must be provided");return e=s(e),Globalize.format(e,"d")},u=e.transformDateTime=function(e,t){if(!e)throw new Error("A date must be provided");return e=s(e),t?Globalize.format(e,"d")+" "+Globalize.format(e,"t"):Globalize.format(e,"D")+" "+Globalize.format(e,"t")},a=e.transformNumber=function(e,t){if(!n.isNumber(e))throw new Error("A valid number must be provided");return Globalize.format(e,t!==null?"n"+t:"n")},f=e.timeAgo=function(e){if(!e)throw new Error("A date must be provided");return e=s(e,!1),t.timeago(e)}}),function(e){function t(e){var t=0,n=e.length;this.peek=function(r){return r=r||0,t+r>=n?null:e.charAt(t+r)},this.next=function(r){return r=r||1,t>=n?null:e.charAt((t+=r)-r)},this.pos=function(){return t}}function r(e){return n.test(e)}function i(e){var t=e.pos();while(r(e.peek()))e.next();return{type:"whitespace",start:t,end:e.pos()}}function s(e){return e==="!"||e==="#"}function o(e){return e==null||e==="\n"||e==="\r"}function u(e){var t=e.pos();while(!o(e.peek()))e.next();return{type:"comment",start:t,end:e.pos()}}function a(e){return!r(e)&&!s(e)}function f(e){return e==="="||e===":"||r(e)}function l(e){return e==="\\"}function c(e){var t=e.pos();e.next();var n=e.next();return n==="u"&&e.next(4),{type:"escaped-value",start:t,end:e.pos()}}function h(e){var t=e.pos(),n=[],r;while((r=e.peek())!==null){if(f(r))break;if(l(r)){n.push(c(e));continue}e.next()}return{type:"key",start:t,end:e.pos(),children:n}}function p(e){var t=e.pos(),n=!1,i;while((i=e.peek())!==null){if(o(i))break;if(r(i)){e.next();continue}if(n)break;n=i===":"||i==="=";if(n){e.next();continue}break}return{type:"key-value-separator",start:t,end:e.pos()}}function d(e){return e.peek()==="\\"&&o(e.peek(1))}function v(e){var t=e.pos();e.next(),e.peek()==="\r"&&e.next(),e.next();var n;while((n=e.peek())!==null){if(o(n))break;if(!r(n))break;e.next()}return{type:"line-break",start:t,end:e.pos()}}function m(e){var t=e.pos(),n=[],r;while((r=e.peek())!==null){if(d(e)){n.push(v(e));continue}if(l(r)){n.push(c(e));continue}if(o(r))break;e.next()}return{type:"value",start:t,end:e.pos(),children:n}}function g(e){return{type:"key-value",start:e.pos(),children:[h(e),p(e),m(e)],end:e.pos()}}function b(e,t){var n=e.start,r=[];for(var i=0;i<e.children.length;i++){var s=e.children[i];r.push(t.substring(n,s.start)),r.push(y[s.type](s,t)),n=s.end}return r.push(t.substring(n,e.end)),r}function w(e,t){var n={};for(var r=0;r<e.length;r++){var i=e[r];if(i.type!=="key-value")continue;var s=b(i.children[0],t).join(""),o=b(i.children[2],t).join("");n[s]=o}return n}function E(e){var n=new t(e),o=[],f;while((f=n.peek())!==null){if(r(f)){o.push(i(n));continue}if(s(f)){o.push(u(n));continue}if(a(f)){o.push(g(n));continue}throw Error("Something crazy happened. text: '"+e+"'; curChar: '"+f+"'")}return o}var n=/\s/,y={"escaped-value":function(e,t){var n=t.charAt(e.start+1);return n==="t"?"	":n==="r"?"\r":n==="n"?"\n":n==="f"?"\f":n!=="u"?n:String.fromCharCode(parseInt(t.substr(e.start+2,4),16))},"line-break":function(e,t){return""}};e.parseProperties=function(e){e=e.toString();var t=E(e);return w(t,e)}}(jQuery),define("jquery.properties-parser",function(){}),function(e){function n(){var t=r(this);return isNaN(t.datetime)||e(this).text(i(t.datetime)),this}function r(n){n=e(n);if(!n.data("timeago")){n.data("timeago",{datetime:t.datetime(n)});var r=e.trim(n.text());r.length>0&&n.attr("title",r)}return n.data("timeago")}function i(e){return t.inWords(s(e))}function s(e){return(new Date).getTime()-e.getTime()}e.timeago=function(t){return t instanceof Date?i(t):typeof t=="string"?i(e.timeago.parse(t)):i(e.timeago.datetime(t))};var t=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:6e4,allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[]}},inWords:function(t){function l(r,i){var s=e.isFunction(r)?r(i,t):r,o=n.numbers&&n.numbers[i]||i;return s.replace(/%d/i,o)}var n=this.settings.strings,r=n.prefixAgo,i=n.suffixAgo;this.settings.allowFuture&&(t<0&&(r=n.prefixFromNow,i=n.suffixFromNow),t=Math.abs(t));var s=t/1e3,o=s/60,u=o/60,a=u/24,f=a/365,c=s<45&&l(n.seconds,Math.round(s))||s<90&&l(n.minute,1)||o<45&&l(n.minutes,Math.round(o))||o<90&&l(n.hour,1)||u<24&&l(n.hours,Math.round(u))||u<48&&l(n.day,1)||a<30&&l(n.days,Math.floor(a))||a<60&&l(n.month,1)||a<365&&l(n.months,Math.floor(a/30))||f<2&&l(n.year,1)||l(n.years,Math.floor(f));return e.trim([r,c,i].join(" "))},parse:function(t){var n=e.trim(t);return n=n.replace(/\.\d\d\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+-]\d\d)\:?(\d\d)/," $1$2"),new Date(n)},datetime:function(n){var r=e(n).get(0).tagName.toLowerCase()=="time",i=r?e(n).attr("datetime"):e(n).attr("title");return t.parse(i)}}),e.fn.timeago=function(){var e=this;e.each(n);var r=t.settings;return r.refreshMillis>0&&setInterval(function(){e.each(n)},r.refreshMillis),e}}(jQuery),define("jquery.timeago",function(){}),define("oae.api.i18n",["exports","jquery","oae.api.config","oae.api.util","oae.api.l10n","jquery.properties-parser","jquery.timeago","jquery.validate"],function(e,t,n,r,i){var s=null,o={core:{},widgets:{}},u=e.init=function(e,r){s=e||n.getValue("oae-principals","user","defaultLanguage");if(s==="debug")return r();t("html").attr("lang",s.substr(0,2)),a(function(e){if(e)return r(e);var n=t("body").html(),i=c(n);t("body")[0].innerHTML=i,l(),r()})},a=function(e){var n=["/ui/bundles.0d30abd1/default.properties","/ui/bundles.0d30abd1/"+s+".properties"];r.staticBatch(n,function(r,i){if(r)return e(r);o.core["default"]=t.parseProperties(i[n[0]]),i[n[1]]&&(o.core[s]=t.parseProperties(i[n[1]])),e(null)})},f=e.parseWidgetBundles=function(e,n,r){o.widgets[e]={},o.widgets[e]["default"]=t.parseProperties(n),r&&(o.widgets[e][s]=t.parseProperties(r))},l=function(){t.timeago.settings.strings={prefixAgo:c("__MSG__JQUERY_TIMEAGO_PREFIXAGO__"),prefixFromNow:c("__MSG__JQUERY_TIMEAGO_PREFIXFROMNOW__"),suffixAgo:c("__MSG__JQUERY_TIMEAGO_SUFFIXAGO__"),suffixFromNow:c("__MSG__JQUERY_TIMEAGO_SUFFIXFROMNOW__"),seconds:c("__MSG__JQUERY_TIMEAGO_SECONDS__"),minute:c("__MSG__JQUERY_TIMEAGO_MINUTE__"),minutes:c("__MSG__JQUERY_TIMEAGO_MINUTES__"),hour:c("__MSG__JQUERY_TIMEAGO_HOUR__"),hours:c("__MSG__JQUERY_TIMEAGO_HOURS__"),day:c("__MSG__JQUERY_TIMEAGO_DAY__"),days:c("__MSG__JQUERY_TIMEAGO_DAYS__"),month:c("__MSG__JQUERY_TIMEAGO_MONTH__"),months:c("__MSG__JQUERY_TIMEAGO_MONTHS__"),year:c("__MSG__JQUERY_TIMEAGO_YEAR__"),years:c("__MSG__JQUERY_TIMEAGO_YEARS__")},t.validator.messages={creditcard:c("__MSG__PLEASE_ENTER_A_VALID_CREDIT_CARD_NUMBER__"),date:c("__MSG__PLEASE_ENTER_A_VALID_DATE__"),dateISO:c("__MSG__PLEASE_ENTER_A_VALID_DATE_ISO__"),digits:c("__MSG__PLEASE_ENTER_ONLY_DIGITS__"),email:c("__MSG__PLEASE_ENTER_A_VALID_EMAIL_ADDRESS__"),equalTo:c("__MSG__PLEASE_ENTER_THE_SAME_VALUE_AGAIN__"),max:c("__MSG__PLEASE_ENTER_A_VALUE_LESS_THAN_OR_EQUAL_TO__"),maxlength:c("__MSG__PLEASE_ENTER_MAXIMUM_X_CHARACTERS__"),"maxlength-long":c("__MSG__PLEASE_ENTER_NO_MORE_THAN_X_CHARACTERS__",null,{x:i.transformNumber(1e5)}),"maxlength-medium":c("__MSG__PLEASE_ENTER_NO_MORE_THAN_X_CHARACTERS__",null,{x:i.transformNumber(1e4)}),"maxlength-short":c("__MSG__PLEASE_ENTER_NO_MORE_THAN_X_CHARACTERS__",null,{x:i.transformNumber(1e3)}),min:c("__MSG__PLEASE_ENTER_A_VALUE_GREATER_THAN_OR_EQUAL_TO__"),minlength:c("__MSG__PLEASE_ENTER_AT_LEAST_X_CHARACTERS__"),nospaces:c("__MSG__NO_SPACES_ARE_ALLOWED__"),number:c("__MSG__PLEASE_ENTER_A_VALID_NUMBER__"),range:c("__MSG__PLEASE_ENTER_A_VALUE_BETWEEN_X_AND_Y__"),rangelength:c("__MSG__PLEASE_ENTER_A_VALUE_BETWEEN_X_AND_Y_CHARACTERS_LONG__"),remote:c("__MSG__PLEASE_FIX_THIS_FIELD__"),required:c("__MSG__THIS_FIELD_IS_REQUIRED__"),url:c("__MSG__PLEASE_ENTER_A_VALID_URL__")}},c=e.translate=function(e,n,r){return s==="debug"?e:(e=e.replace(/__MSG__(.*?)__/gm,function(e,i){var u=null;return n&&o.widgets[n]&&(o.widgets[n][s]&&o.widgets[n][s][i]!==undefined?u=o.widgets[n][s][i]:o.widgets[n]["default"]&&o.widgets[n]["default"][i]!==undefined&&(u=o.widgets[n]["default"][i])),u||(o.core[s]&&o.core[s][i]!==undefined?u=o.core[s][i]:o.core["default"]&&o.core["default"][i]!==undefined&&(u=o.core["default"][i])),u!==null?(r&&t.each(r,function(e,t){u=u.replace("${"+e+"}",t)}),u):(console.error("No translation could be found for "+e),e)}),e)}}),define("oae.api.content",["exports","jquery","underscore","oae.api.i18n"],function(e,t,n,r){var i=e.getContent=function(e,n){if(!e)throw new Error("A valid content id should be provided");t.ajax({url:"/api/content/"+e,success:function(e){n(null,e)},error:function(e,t){n({code:e.status,msg:e.statusText})}})},s=e.createLink=function(e,n,r,i,s,o,u){if(!e)throw new Error("A valid link name should be provided");if(!i)throw new Error("A valid link should be provided");var a={resourceSubType:"link",displayName:e,description:n,visibility:r,link:i,managers:s,viewers:o};t.ajax({url:"/api/content/create",type:"POST",data:a,success:function(e){u(null,e)},error:function(e,t){u({code:e.status,msg:e.statusText})}})},o=e.createFile=function(e,n,r,i,s,o,u,a){if(!e)throw new Error("A valid file name should be provided");if(!i)throw new Error("A valid jquery.fileUpload container should be provided");if(!s)throw new Error("A valid jquery.fileUpload file object should be provided");var f=[{name:"resourceSubType",value:"file"},{name:"displayName",value:e},{name:"description",value:n},{name:"visibility",value:r}];o=o||[],t.each(o,function(e,t){f.push({name:"managers",value:t})}),u=u||[],t.each(u,function(e,t){f.push({name:"viewers",value:t})}),t(i).fileupload("send",{files:[s],formData:f,success:function(e){e instanceof t&&(e=e.find("pre").text()),a(null,JSON.parse(e))},error:function(e,t){a({code:e.status,msg:e.statusText})}})},u=e.uploadNewVersion=function(e,n,r){if(!e)throw new Error("A valid jquery.fileUpload container should be provided");if(!n)throw new Error("A valid jquery.fileUpload file object should be provided");t(e).fileupload("send",{files:[n],success:function(e){e instanceof t&&(e=e.find("pre").text()),r(null,JSON.parse(e))},error:function(e,t){r({code:e.status,msg:e.statusText})}})},a=e.createCollabDoc=function(e,n,r,i,s,o){if(!e)throw new Error("A valid document name should be provided");var u={resourceSubType:"collabdoc",displayName:e,description:n,visibility:r,managers:i,viewers:s};t.ajax({url:"/api/content/create",type:"POST",data:u,success:function(e){o(null,e)},error:function(e,t){o({code:e.status,msg:e.statusText})}})},f=e.restoreRevision=function(e,n,r){if(!e)throw new Error("A valid content id should be provided");if(!n)throw new Error("A valid revision id should be provided");t.ajax({url:"/api/content/"+e+"/revisions/"+n+"/restore",type:"POST",success:function(e){r(null,e)},error:function(e,t){r({code:e.status,msg:e.statusText})}})},l=e.updateContent=function(e,r,i){if(!e)throw new Error("A valid content id should be provided");if(!r||n.keys(r).length===0)throw new Error("At least one update parameter should be provided");t.ajax({url:"/api/content/"+e,type:"POST",data:r,success:function(e){i(null,e)},error:function(e,t){i({code:e.status,msg:e.statusText})}})},c=e.deleteContent=function(e,n){if(!e)throw new Error("A valid content id should be provided");t.ajax({url:"/api/content/"+e,type:"DELETE",success:function(){n(null)},error:function(e,t){n({code:e.status,msg:e.statusText})}})},h=e.getMembers=function(e,n,r,i){if(!e)throw new Error("A content ID should be provided");var s={start:n,limit:r};t.ajax({url:"/api/content/"+e+"/members",data:s,success:function(e){i(null,e)},error:function(e,t){i({code:e.status,msg:e.statusText})}})},p=e.updateMembers=function(e,r,i){if(!e)throw new Error("A valid content id should be provided");if(!r||n.keys(r).length===0)throw new Error("The updatedMembers hash should contain at least 1 update.");t.ajax({url:"/api/content/"+e+"/members",type:"POST",data:r,success:function(){i(null)},error:function(e,t){i({code:e.status,msg:e.statusText})}})},d=e.shareContent=function(e,n,r){if(!e)throw new Error("A content ID should be provided");if(!n.length)throw new Error("A user or group to share with should be provided");var i={viewers:n};t.ajax({url:"/api/content/"+e+"/share",type:"POST",data:i,success:function(e){r(null,e)},error:function(e,t){r({code:e.status,msg:e.statusText})}})},v=e.getLibrary=function(e,n,r,i){if(!e)throw new Error("A user or group ID should be provided");var s={start:nextToken,limit:r};t.ajax({url:"/api/content/library/"+e,data:s,success:function(e){i(null,e)},error:function(e,t){i({code:e.status,msg:e.statusText})}})},m=e.deleteContentFromLibrary=function(e,n,r){if(!e)throw new Error("A valid user or group ID should be provided");if(!n)throw new Error("A valid content ID should be provided");t.ajax({url:"/api/content/library/"+e+"/"+n,type:"DELETE",success:function(){r(null)},error:function(e,t){r({code:e.status,msg:e.statusText})}})},g={archive:{description:"__MSG__ARCHIVE__",regex:["application/zip","application/x-zip*","application/x-tar"]},audio:{description:"__MSG__AUDIO__",regex:["audio/*","kaltura/audio"]},collabdoc:{description:"__MSG__DOCUMENT__"},css:{description:"__MSG__CSS_FILE__",regex:"text/css"},image:{description:"__MSG__IMAGE__",regex:"image/*"},flash:{description:"__MSG__FLASH_FILE__",regex:"application/x-shockwave-flash"},html:{description:"__MSG__HTML_DOCUMENT__",regex:"text/html"},link:{description:"__MSG__LINK__"},other:{description:"__MSG__OTHER_DOCUMENT__"},pdf:{description:"__MSG__PDF_DOCUMENT__",regex:["application/pdf","application/x-download","application/x-pdf"]},presentation:{description:"__MSG__PRESENTATION__",regex:["application/vnd.ms-powerpoint","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.presentation*"]},spreadsheet:{description:"__MSG__SPREADSHEET__",regex:["application/vnd.oasis.opendocument.spreadsheet","application/vnd.openxmlformats-officedocument.spreadsheet*","application/vnd.ms-excel"]},text:{description:"__MSG__TEXT_DOCUMENT__",regex:["text/plain","text/rtf"]},xml:{description:"__MSG__XML_DOCUMENT__",regex:"text/xml"},video:{description:"__MSG__VIDEO__",regex:["video/*","kaltura/video"]},word:{description:"__MSG__WORD_DOCUMENT__",regex:["application/doc","application/msword","application/vnd.openxmlformats-officedocument.word*","application/vnd.oasis.opendocument.text"]}},y=e.getMimeTypeDescription=function(e){var i=e.resourceSubType||e["oae:resourceSubType"],s=null;if(i==="file"){var o=e.mime||e["oae:mimeType"];o&&t.each(g,function(e,t){if(t.regex){var r=t.regex;r=n.isArray(r)?r:[r];var i=new RegExp(r.join("|"),"i");if(o.match(i))return s=t,!1}})}else s=g[i];return s||(s=g.other),r.translate(s.description)},b=e.getFileSize=function(e){}}),define("oae.api.comment",["exports","jquery","underscore"],function(e,t,n){var r=e.getComments=function(e,n,r,i,s){if(!e)throw new Error("A valid resource id should be provided");if(!n)throw new Error("A valid resource type should be provided");var o={start:r,limit:i};t.ajax({url:"/api/"+n+"/"+e+"/messages",data:o,success:function(e){s(null,e)},error:function(e,t){s({code:e.status,msg:e.statusText})}})},i=e.createComment=function(e,n,r,i,s){if(!e)throw new Error("A valid resource id should be provided");if(!n)throw new Error("A valid resource type should be provided");if(!r)throw new Error("A comment should be provided");var o={body:r,replyTo:i};t.ajax({url:"/api/"+n+"/"+e+"/messages",type:"POST",data:o,success:function(e){s(null,e)},error:function(e,t){s({code:e.status,msg:e.statusText})}})},s=e.deleteComment=function(e,n,r,i){if(!e)throw new Error("A valid resource id should be provided");if(!n)throw new Error("A valid resource type should be provided");if(!r)throw new Error("A comment id should be provided");t.ajax({url:"/api/"+n+"/"+e+"/messages/"+r,type:"DELETE",success:function(e){i(null,e)},error:function(e,t){i({code:e.status,msg:e.statusText})}})}}),define("oae.api.discussion",["exports","jquery","underscore"],function(e,t,n){var r=e.getDiscussion=function(e,n){if(!e)throw new Error("A valid discussion id should be provided");t.ajax({url:"/api/discussion/"+e,success:function(e){n(null,e)},error:function(e,t){n({code:e.status,msg:e.statusText})}})},i=e.createDiscussion=function(e,n,r,i,s,o){if(!e)throw new Error("A valid description topic should be provided");var u={displayName:e,description:n,visibility:r,managers:i,members:s};t.ajax({url:"/api/discussion/create",type:"POST",data:u,success:function(e){o(null,e)},error:function(e,t){o({code:e.status,msg:e.statusText})}})},s=e.updateDiscussion=function(e,r,i){if(!e)throw new Error("A valid discussion id should be provided");if(!r||n.keys(r).length===0)throw new Error("At least one update parameter should be provided");t.ajax({url:"/api/discussion/"+e,type:"POST",data:r,success:function(e){i(null,e)},error:function(e,t){i({code:e.status,msg:e.statusText})}})},o=e.deleteDiscussion=function(e,n){if(!e)throw new Error("A valid discussion id should be provided");t.ajax({url:"/api/discussion/"+e,type:"DELETE",success:function(){n(null)},error:function(e,t){n({code:e.status,msg:e.statusText})}})},u=e.getMembers=function(e,n,r,i){if(!e)throw new Error("A discussion ID should be provided");var s={start:n,limit:r};t.ajax({url:"/api/discussion/"+e+"/members",data:s,success:function(e){i(null,e)},error:function(e,t){i({code:e.status,msg:e.statusText})}})},a=e.updateMembers=function(e,r,i){if(!e)throw new Error("A valid discussion id should be provided");if(!r||n.keys(r).length===0)throw new Error("The updatedMembers hash should contain at least 1 update.");t.ajax({url:"/api/discussion/"+e+"/members",type:"POST",data:r,success:function(){i(null)},error:function(e,t){i({code:e.status,msg:e.statusText})}})},f=e.shareDiscussion=function(e,n,r){if(!e)throw new Error("A discussion ID should be provided");if(!n.length)throw new Error("A user or group to share with should be provided");var i={members:n};t.ajax({url:"/api/discussion/"+e+"/share",type:"POST",data:i,success:function(e){r(null,e)},error:function(e,t){r({code:e.status,msg:e.statusText})}})},l=e.getLibrary=function(e,n,r,i){if(!e)throw new Error("A user or group ID should be provided");var s={start:n,limit:r};t.ajax({url:"/api/discussion/library/"+e,data:s,success:function(e){i(null,e)},error:function(e,t){i({code:e.status,msg:e.statusText})}})},c=e.deleteDiscussionFromLibrary=function(e,n,r){if(!e)throw new Error("A valid user or group ID should be provided");if(!n)throw new Error("A valid discussion ID should be provided");t.ajax({url:"/api/discussion/library/"+e+"/"+n,type:"DELETE",success:function(){r(null)},error:function(e,t){r({code:e.status,msg:e.statusText})}})}}),define("oae.api.group",["exports","jquery","underscore","oae.api.util"],function(e,t,n,r){var i=e.createGroup=function(e,n,r,i,s,o,u){if(!e)throw new Error("A group displayName should be provided");var a={displayName:e,description:n,visibility:r,joinable:i,managers:s,members:o};t.ajax({url:"/api/group/create",type:"POST",data:a,success:function(e){u(null,e)},error:function(e,t){u({code:e.status,msg:e.statusText})}})},s=e.getGroup=function(e,n){if(!e)throw new Error("A valid group id should be provided");t.ajax({url:"/api/group/"+e,success:function(e){n(null,e)},error:function(e,t){n({code:e.status,msg:e.statusText})}})},o=e.updateGroup=function(e,r,i){if(!e)throw new Error("A valid group id should be provided");if(!r||n.keys(r).length===0)throw new Error("At least one parameter should be provided");var s=n.pick(r,"displayName","description","visibility","joinable");t.ajax({url:"/api/group/"+e,type:"POST",data:s,success:function(e){i(null,e)},error:function(e,t){i({code:e.status,msg:e.statusText})}})},u=e.getGroupMembers=function(e,n,r,i){if(!e)throw new Error("A valid group id should be provided");var s={start:n,limit:r};t.ajax({url:"/api/group/"+e+"/members",data:s,success:function(e){i(null,e)},error:function(e,t){i({code:e.status,msg:e.statusText})}})},a=e.setGroupMembers=function(e,r,i){if(!e)throw new Error("A valid group id should be provided");if(!r||n.keys(r).length===0)throw new Error("At least one member should be speficied.");t.ajax({url:"/api/group/"+e+"/members",type:"POST",data:r,success:function(){i(null)},error:function(e,t){i({code:e.status,msg:e.statusText})}})},f=e.memberOf=function(e,r,i,s){e=e||require("oae.core").data.me.id,i=i||10;if(!n.isNumber(i))throw new Error("A valid limit should be provided");t.ajax({url:"/api/user/"+e+"/memberships",success:function(e){s(null,e)},error:function(e,t){s({code:e.status,msg:e.statusText})}})},l=e.joinGroup=function(e,n){if(!e)throw new Error("A valid group id should be provided");t.ajax({url:"/api/group/"+e+"/join",type:"POST",success:function(e){n(null,e)},error:function(e,t){n({code:e.status,msg:e.statusText})}})},c=e.leaveGroup=function(e,n){if(!e)throw new Error("A valid group id should be provided");t.ajax({url:"/api/group/"+e+"/leave",type:"POST",success:function(e){n(null,e)},error:function(e,t){n({code:e.status,msg:e.statusText})}})}}),define("oae.api.profile",["exports"],function(e){var t=e.getSection=function(e,t,n){if(!e)throw new Error("A valid user id should be provided.");if(!t)throw new Error("A section id should be provided");$.ajax({url:"/api/user/"+e+"/profile/"+t,success:function(e){n(null,e)},error:function(e,t){n({code:e.status,msg:e.statusText})}})},n=e.getSectionOverview=function(e,t){if(!e)throw new Error("A valid user id should be provided.");$.ajax({url:"/api/user/"+e+"/profile/sections",success:function(e){t(null,e)},error:function(e,n){t({code:e.status,msg:e.statusText})}})},r=e.setSection=function(e,t,n,r,i){if(!e)throw new Error("A section id should be provided.");if(!n)throw new Error("Section data should be provided");var s=require("oae.core").data.me.id,o={data:JSON.stringify(n),overwrite:r===!0?!0:!1};t&&(o.visibility=t),$.ajax({url:"/api/user/"+s+"/profile/"+e,type:"POST",data:o,success:function(){i(null)},error:function(e,t){i({code:e.status,msg:e.statusText})}})},i=e.deleteSection=function(e,t){if(!e)throw new Error("A section id should be provided.");var n=require("oae.core").data.me.id;$.ajax({url:"/api/user/"+n+"/profile/"+e,type:"DELETE",success:function(e){t(null,e)},error:function(e,n){t({code:e.status,msg:e.statusText})}})},s=e.updateVisibility=function(e,t,n){}}),define("oae.api.user",["exports","jquery","underscore"],function(e,t,n){var r=e.createUser=function(e,n,r,i,s,o,u){if(!e)throw new Error("A username should be provided");if(!n)throw new Error("A password should be provided");if(!r)throw new Error("A display name should be provided");i=i||{};var a={username:e,password:n,displayName:r,recaptchaChallenge:s,recaptchaResponse:o,visibility:i.visibility,email:i.email,locale:i.locale,timezone:i.timezone,publicAlias:i.publicAlias};t.ajax({url:"/api/user/create",type:"POST",data:a,success:function(e){u(null,e)},error:function(e,t){u({code:e.status,msg:e.statusText})}})},i=e.getMe=function(e){t.ajax({url:"/api/me",success:function(t){e(null,t)},error:function(t,n){e({code:t.status,msg:t.statusText})}})},s=e.getUser=function(e,n){if(!e)throw new Error("A valid user id should be provided");t.ajax({url:"/api/user/"+e,success:function(e){n(null,e)},error:function(e,t){n({code:e.status,msg:e.statusText})}})},o=e.updateUser=function(e,r){if(!e||n.keys(e).length===0)throw new Error("At least 1 parameter should be provided");var i=require("oae.core").data.me.id;e.displayName&&t(".oae-my-displayname").text(e.displayName),t.ajax({url:"/api/user/"+i,type:"POST",data:e,success:function(e){r(null,e)},error:function(e,t){r({code:e.status,msg:e.statusText})}})}}),define("oae.api.widget",["exports","jquery","underscore","oae.api.config","oae.api.i18n","oae.api.util"],function(e,t,n,r,i,s){var o=null,u={},a=null,f=e.init=function(e,n){a=e||r.getValue("oae-principals","user","defaultLanguage"),t.ajax({url:"/api/ui/widgets",success:function(e){o=e,h(),p(),n(null)},error:function(e,t){n({code:e.status,msg:e.statusText})}})},l=e.getWidgetManifest=function(e){if(!e||!o[e])throw new Error("A valid widget name should be provided");return o[e]},c=e.getWidgetManifests=function(e){if(!e)return o;var n={};return t.each(o,function(r,i){var s=!0;t.each(e,function(e,t){i[e]!==t&&(s=!1)}),s&&(n[r]=i)}),n},h=function(){t.each(c(),function(e,n){if(n.trigger&&n.trigger.onLoad){var r=t("<div>").attr("data-widget",e);t("body").prepend(r)}})},p=function(){t.each(c(),function(e,r){if(r.trigger&&!r.trigger.onLoad){r.trigger.events=r.trigger.events||[],n.isString(r.trigger.events)&&(r.trigger.events=[r.trigger.events]),r.trigger.selectors=r.trigger.selectors||[],n.isString(r.trigger.selectors)&&(r.trigger.selectors=[r.trigger.selectors]);var i=function(n){t.each(r.trigger.events,function(e,n){t(document).off(n)}),t.each(r.trigger.selectors,function(e,n){t(document).off("click",n)}),w(e,null,null,null,null,n)};t.each(r.trigger.events,function(e,n){t(document).on(n,function(){var e=Array.prototype.slice.call(arguments).slice(1);i(function(){t(document).trigger(n,e)})})}),t.each(r.trigger.selectors,function(e,n){t(document).on("click",n,function(e,n){return i(function(){t(e.target).trigger("click",[e,n])}),!1})})}})},d=function(e,t){return e?t?e.substring(0,1)==="/"||e.substring(0,4)==="http"?e:t+e:e:null},v=e.loadWidgets=function(e,n,r,i){i=i||function(){},n=n||!1,e=e?t(e):t("body"),r=r||{},m(e,n,r,i)},m=function(e,r,i,o){var f={};t("[data-widget]",e).each(function(e,n){$element=t(n);var o=$element.attr("data-widget"),c=l(o),h=$element.attr("id");h||(h=s.generateId(),$element.attr("id",h)),$element.removeAttr("data-widget");if(u[o])return b(o,h,r,i[h]);f[o]=f[o]||{},f[o].prefixPath="/node_modules/"+c.path,f[o].html=d(c.src,f[o].prefixPath),f[o].bundles={},c.i18n&&(f[o].bundles["default"]=c.i18n["default"]?d(c.i18n["default"].bundle,f[o].prefixPath):null,f[o].bundles[a]=c.i18n[a]?d(c.i18n[a].bundle,f[o].prefixPath):null),f[o].instances=f[o].instances||[],f[o].instances.push(h)});if(n.keys(f).length===0)return o();g(f,e,r,i,o)},g=function(e,n,r,i,o){var u=[];t.each(e,function(e,t){u.push(t.html),t.bundles["default"]&&u.push(t.bundles["default"]),t.bundles[a]&&u.push(t.bundles[a])}),s.staticBatch(u,function(t,s){if(t)return o(t);y(s,e,n,r,i,o)})},y=function(e,r,s,o,f,l){var c=0;t.each(r,function(s,h){var p=e[h.html];h.bundles["default"]&&i.parseWidgetBundles(s,e[h.bundles["default"]],h.bundles[a]?e[h.bundles[a]]:null),p=i.translate(p,s),p=p.replace(/<img/ig,"<imgtmp");var v=t(p);v.find("imgtmp").each(function(e,n){var i=t(n);i.attr("src",d(i.attr("src"),r[s].prefixPath))}),v.filter('link[rel="stylesheet"]').each(function(e,n){var i=t(n);i.attr("href",d(i.attr("href"),r[s].prefixPath)),t("head").append(i[0].outerHTML)});var m=[];v.filter("script").each(function(e,n){m.push(d(t(n).attr("src"),r[s].prefixPath))}),p=t("<div>").html(v.filter(":not(link):not(script)")).html(),p=p.replace(/imgtmp/ig,"img"),require(m,function(e){u[s]={html:p,widgetFunction:e};for(var t=0;t<h.instances.length;t++)b(s,h.instances[t],o,f[h.instances[t]]);c++,c===n.keys(r).length&&l()})})},b=function(e,n,r,i){var s=t("#"+n);s.html(u[e].html),u[e].widgetFunction&&u[e].widgetFunction(n,r,i)},w=e.insertWidget=function(e,n,r,i,u,a){if(!e||!o[e])throw new Error("A valid widget name should be provided");i=i||!1,r=r?t(r):t("body"),n=n||s.generateId();var f={};u&&(f[n]=u);var l=t("<div>").attr({id:n,"data-widget":e});r.prepend(l),v(r,i,f,a)}}),define("bootstrap.modal",["jquery","bootstrap"],function(e){e.extend(e.fn.modal.Constructor.prototype,{lock:function(){this.$element.data("modal").isShown=!1,e("#"+this.$element.attr("id")+' [data-dismiss="modal"]').attr("disabled","disabled")},unlock:function(){this.$element.data("modal").isShown=!0,e("#"+this.$element.attr("id")+' [data-dismiss="modal"]').removeAttr("disabled","disabled")}})}),define("jquery.browse-focus",["jquery"],function(e){(function(e){e(document).on("focus",'input[type="file"]',function(){var t=e(this).parent();t.hasClass("btn")&&t.addClass("oae-focus")}),e(document).on("focusout",'input[type="file"]',function(){var t=e(this).parent();t.hasClass("btn")&&t.removeClass("oae-focus")})})(e)}),define("jquery.clip",["jquery"],function(e){(function(e){e(document).on("click",".oae-clip-content > button:not(:disabled)",function(t){var n=e(this).parent();e("i.icon-caret-down, i.icon-caret-up",n).length>0&&(e("ul",n).toggle(),n.find("i.icon-caret-down, i.icon-caret-up").toggleClass("icon-caret-down icon-caret-up"))})})(e)}),define("jquery.dnd-upload",["jquery","oae.api.content"],function(e){(function(){$(document).on("drop",".oae-dnd-upload",function(e,t){if(e.originalEvent.dataTransfer&&e.originalEvent.dataTransfer.files.length){e.preventDefault(),e.stopPropagation();var n={files:[]};$.each(e.originalEvent.dataTransfer.files,function(e,t){t.size>0&&t.name&&n.files.push(t)}),n.files.length&&$(document).trigger("oae.trigger.upload",{data:n})}}),$(document).on("dragover",".oae-dnd-upload",function(e){e.originalEvent.dataTransfer.dropEffect="copy",e.preventDefault(),e.stopPropagation()})})()}),define("jquery.infinitescroll",["jquery","underscore","oae.api.util","oae.api.i18n"],function(e,t,n,r){(function(e){e.fn.infiniteScroll=function(i,s,o,u){if(!i)throw new Error("A valid source URL should be provided");if(!o)throw new Error("A valid template name or render function should be provided");s=s||{},u=u||{},s.limit=s.limit||10,t.isString(o)&&(o=e(o)),u.scrollContainer&&(u.scrollContainer=e(u.scrollContainer));var a=e("<div />").addClass("text-center hide").css("clear","both"),f=u.scrollContainer?u.scrollContainer:e(this),l=!1,c=!1,h=function(){u.scrollContainer?u.scrollContainer.scroll(p):e(window).scroll(p)},p=function(){if(!c&&f){var t=500,n=e(document).height()-e(window).height()-e(window).scrollTop();u.scrollContainer&&(t=200,n=u.scrollContainer.prop("scrollHeight")-u.scrollContainer.height()-u.scrollContainer.scrollTop()),n<=t&&f.is(":visible")&&d()}},d=function(){c=!0,E();var t=f.children("li").filter(":visible").filter(":last");t.length!==0&&l===!0&&(s.start=t.attr("data-key")?t.attr("data-key"):t.index()+1),e.ajax({url:i,data:s,success:function(e){l=!0,v(e)},error:function(){S(),console.error("An error has occured while retrieving the list of results")}})},v=function(e,t){u.postProcessor&&(e=u.postProcessor(e)),m(e,t)},m=function(r,i){var a=r.results.length===s.limit||i;if(f){S();var l="";t.isFunction(o)?l=o(r.results):l=n.template().render(o,r);var h=e("<div>").html(l);h.children().each(function(t,n){var r=e(n).attr("data-id"),s=e('li[data-id="'+r+'"]',f);r&&(i?s.remove():s.length>0&&e(n).remove())}),l=h.html(),i?f.prepend(l):f.append(l),u.postRenderer&&u.postRenderer(r),a?setTimeout(function(){c=!1,p()},1e3):(c=!0,e("li",f).length===0&&u.emptyListProcessor&&u.emptyListProcessor())}},g=function(){u.initialContent&&(t.isFunction(u.initialContent)?f.prepend(u.initialContent()):f.prepend(u.initialContent))},y=function(e){v({results:e},!0)},b=function(n){t.isArray(n)||(n=[n]);var r=0;e.each(n,function(t,i){$item=e('[data-id="'+i+'"]',f),$item.fadeOut(!1,function(){e(this).remove(),r++,r===n.length&&p()})})},w=function(){f.html(""),a.remove(),c=!0,f=null},E=function(){a.show()},S=function(){a.hide()},x=function(){var t=e("<i />").addClass("icon-spinner icon-spin"),n=e("<span />").text(r.translate("__MSG__LOADING__")).addClass("oae-aural-text");t.append(n),a.append(t),a.insertAfter(f)};return f.attr("aria-live","assertive"),x(),g(),d(),h(),{prependItems:y,removeItems:b,kill:w}}})(e)}),define("jquery.list-options",["jquery"],function(e){(function(){e(document).on("click",".oae-list-options-toggle",function(){var t=e(this).parents(".oae-list-options").parent(),n=e(".oae-list-options-actions",t);n.is(":visible")?n.slideUp(200):n.slideDown(200),e(this).find("i").toggleClass("icon-caret-down icon-caret-up")}),e(document).on("change",".oae-list-selectall",function(){var t=e(this).parents(".oae-list-options").parent(),n=e(this).is(":checked"),r=e('.oae-list input[type="checkbox"]',t);r.prop("checked",n),r.length>0&&e(".oae-list-options-actions > .btn",t).prop("disabled",!n)}),e(document).on("click",".oae-list-options .btn-group button",function(){var t=e(this).parents(".oae-list-options").parent();e(".oae-list-options .btn-group button",t).removeClass("active"),e(this).addClass("active"),e(".oae-list",t).removeClass("oae-list-grid oae-list-details oae-list-compact"),e(".oae-list",t).addClass(e(this).attr("data-type"))}),e(document).on("click",'.oae-list input[type="checkbox"]',function(){$listItem=e(this).parents("li"),e('input[type="checkbox"]',$listItem).prop("checked",e(this).is(":checked"));var t=e(this).parents(".oae-list").parent(),n=e(".oae-list-options-actions",t),r=e('.oae-list input[type="checkbox"]:visible:checked',t).length;(r>0&&!n.is(":visible")||r===0&&n.is(":visible"))&&e(".oae-list-options-toggle",t).click(),e(".oae-list-options-actions > .btn",t).prop("disabled",r===0)}),e(document).on("oae.list.getSelection",function(t,n){var r={results:[]},i=e('input[type="checkbox"]:visible:checked',e(".oae-list:visible"));i.each(function(t,n){var i=e(this).parents("li"),s=e(n).attr("data-id"),o=e(n).attr("data-resourceType"),u=e(n).attr("data-resourceSubType"),a=e("h3:visible",i).text(),f=e("img:visible",i).attr("src");r.results.push({id:s,displayName:a,resourceType:o,resourceSubType:u,thumbnailUrl:f})}),n?e(document).trigger("oae.list.sendSelection."+n,r):e(document).trigger("oae.list.sendSelection",r)})})()}),!function(e){"use strict";var t=function(e,t){this.cinit("clickover",e,t)};t.prototype=e.extend({},e.fn.popover.Constructor.prototype,{constructor:t,cinit:function(t,n,r){this.attr={},this.attr.me=(Math.random()*10+"").replace(/\D/g,""),this.attr.click_event_ns="click."+this.attr.me+" touchstart."+this.attr.me,r||(r={}),r.trigger="manual",this.init(t,n,r),this.$element.on("click",this.options.selector,e.proxy(this.clickery,this))},clickery:function(t){t&&(t.preventDefault(),t.stopPropagation()),this.options.width&&this.tip().width(this.options.width),this.options.height&&this.tip().height(this.options.height),this.options.tip_id&&this.tip().attr("id",this.options.tip_id),this.options.class_name&&this.tip().addClass(this.options.class_name),this[this.isShown()?"hide":"show"]();if(this.isShown()){var n=this;this.options.global_close&&e("body").on(this.attr.click_event_ns,function(e){n.tip().has(e.target).length||n.clickery()}),this.options.esc_close&&e(document).bind("keyup.clickery",function(e){e.keyCode==27&&n.clickery();return}),!this.options.allow_multiple&&e("[data-clickover-open=1]").each(function(){e(this).data("clickover")&&e(this).data("clickover").clickery()}),this.$element.attr("data-clickover-open",1),this.tip().on("click",'[data-dismiss="clickover"]',e.proxy(this.clickery,this)),this.options.auto_close&&this.options.auto_close>0&&(this.attr.tid=setTimeout(e.proxy(this.clickery,this),this.options.auto_close)),typeof this.options.onShown=="function"&&this.options.onShown.call(this),this.$element.trigger("shown")}else this.$element.removeAttr("data-clickover-open"),this.options.esc_close&&e(document).unbind("keyup.clickery"),e("body").off(this.attr.click_event_ns),typeof this.attr.tid=="number"&&(clearTimeout(this.attr.tid),delete this.attr.tid),typeof this.options.onHidden=="function"&&this.options.onHidden.call(this),this.$element.trigger("hidden")},isShown:function(){return this.tip().hasClass("in")},resetPosition:function(){var e,t,n,r,i,s,o;if(this.hasContent()&&this.enabled){e=this.tip(),s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(s),n=this.getPosition(t),r=e[0].offsetWidth,i=e[0].offsetHeight;switch(t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.css(o)}},debughide:function(){var e=(new Date).toString();console.log(e+": clickover hide"),this.hide()}}),e.fn.clickover=function(n){return this.each(function(){var r=e(this),i=r.data("clickover"),s=typeof n=="object"&&n;i||r.data("clickover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.clickover.Constructor=t,e.fn.clickover.defaults=e.extend({},e.fn.popover.defaults,{trigger:"manual",auto_close:0,global_close:1,esc_close:1,onShown:null,onHidden:null,width:null,height:null,tip_id:null,class_name:"clickover",allow_multiple:0})}(jQuery),define("bootstrap.clickover",["bootstrap"],function(){}),define("jquery.encoder",["jquery"],function(e){(function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(n){function o(){!e&&this.init&&this.init.apply(this,arguments)}var r=this.prototype;e=!0;var i=new this;e=!1;for(var s in n)i[s]=typeof n[s]=="function"&&typeof r[s]=="function"&&t.test(n[s])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);return this._super=n,i}}(s,n[s]):n[s];return o.prototype=i,o.constructor=o,o.extend=arguments.callee,o}})(),function(e){var t={js:[",",".","_"," "]},n={"default":[",",".","-","_"," "]},r={width:["%"],height:["%"]},i={"default":["-"," ","%"],color:["#"," ","(",")"],image:["(",")",":","/","?","&","-",".",'"',"="," "]},s={background:["(",")",":","%","/","?","&","-"," ",".",'"',"=","#"],"background-image":i.image,"background-color":i.color,"border-color":i.color,"border-image":i.image,color:i.color,icon:i.image,"list-style-image":i.image,"outline-color":i.color},o={attr_name:["on[a-z]{1,}","style","href","src"],attr_val:["javascript:"],css_key:["behavior","-moz-behavior","-ms-behavior"],css_val:["expression"]},u={blacklist:!0},a=!1;e.encoder={author:"Chris Schmidt (chris.schmidt@owasp.org)",version:"${project.version}",init:function(t){if(a)throw"jQuery Encoder has already been initialized - cannot set options after initialization";a=!0,e.extend(u,t)},encodeForHTML:function(t){a=!0;var n=document.createElement("div");return e(n).text(t),e(n).html()},encodeForHTMLAttribute:function(t,i,s){a=!0,t=e.encoder.canonicalize(t).toLowerCase(),i=e.encoder.canonicalize(i);if(e.inArray(t,o.attr_name)>=0)throw"Unsafe attribute name used: "+t;for(var u=0;u<o.attr_val;u++)if(i.toLowerCase().match(o.attr_val[u]))throw"Unsafe attribute value used: "+i;immune=r[t],immune||(immune=n["default"]);var f="";if(!s){for(var l=0;l<t.length;l++){var c=t.charAt(l);if(!c.match(/[a-zA-Z\-0-9]/))throw"Invalid attribute name specified";f+=c}f+='="'}for(var h=0;h<i.length;h++){var p=i.charAt(h),d=i.charCodeAt(h);if(!p.match(/[a-zA-Z0-9]/)&&e.inArray(p,immune)<0){var v=d.toString(16);f+="&#x"+v+";"}else f+=p}return s||(f+='"'),f},encodeForCSS:function(t,n,r){a=!0,t=e.encoder.canonicalize(t).toLowerCase(),n=e.encoder.canonicalize(n);if(e.inArray(t,o.css_key)>=0)throw"Unsafe property name used: "+t;for(var u=0;u<o.css_val.length;u++)if(n.toLowerCase().indexOf(o.css_val[u])>=0)throw"Unsafe property value used: "+n;immune=s[t],immune||(immune=i["default"]);var f="";if(!r){for(var l=0;l<t.length;l++){var c=t.charAt(l);if(!c.match(/[a-zA-Z\-]/))throw"Invalid Property Name specified";f+=c}f+=": "}for(var h=0;h<n.length;h++){var p=n.charAt(h),d=n.charCodeAt(h);if(!p.match(/[a-zA-Z0-9]/)&&e.inArray(p,immune)<0){var v=d.toString(16),m="000000".substr(v.length);f+="\\"+m+v}else f+=p}return f},encodeForURL:function(t,n){a=!0;var r="";if(n){if(!n.match(/^[A-Za-z\-0-9]{1,}$/))throw"Illegal Attribute Name Specified";r+=e.encoder.canonicalize(n).toLowerCase(),r+='="'}return r+=encodeURIComponent(t),r+=n?'"':"",r},encodeForJavascript:function(n){a=!0,immune||(immune=t.js);var r="";for(var i=0;i<n.length;i++){var s=n.charAt(i),o=n.charCodeAt(i);if(e.inArray(s,immune)>=0||f[o]==null){r+=s;continue}var u=o.toString(16),l;o<256?(l="00".substr(u.length),r+="\\x"+l+u.toUpperCase()):(l="0000".substr(u.length),r+="\\u"+l+u.toUpperCase())}return r},canonicalize:function(e,t){a=!0;if(e===null)return null;var n=e,r=e,i=0,s=0,o=[new d,new v,new m];for(;;){r=n;for(var u=0;u<o.length;u++){var f=o[u].decode(n);f!=n&&(i++,n=f)}if(r==n)break;s++}if(t&&i>1)throw"Attack Detected - Multiple/Double Encodings used in input";return n}};var f=[];for(var l=0;l<255;l++)l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122?f[l]=null:f[l]=l.toString(16);var c={html:function(t){return e.encoder.encodeForHTML(t.unsafe)},css:function(t){var n=[],r=[];t.map?n=t.map:n[t.name]=t.unsafe;for(var i in n)typeof n[i]!="function"&&n.hasOwnProperty(i)&&(r[i]=e.encoder.encodeForCSS(i,n[i],!0));return r},attr:function(t){var n=[],r=[];t.map?n=t.map:n[t.name]=t.unsafe;for(var i in n)typeof n[i]!="function"&&n.hasOwnProperty(i)&&(r[i]=e.encoder.encodeForHTMLAttribute(i,n[i],!0));return r}};e.fn.encode=function(){a=!0;var t=arguments.length,n={context:"html",unsafe:null,name:null,map:null,setter:null,strict:!0};if(t==1&&typeof arguments[0]=="object")e.extend(n,arguments[0]);else{n.context=arguments[0];if(arguments.length==2){if(n.context=="html")n.unsafe=arguments[1];else if(n.content=="attr"||n.content=="css")n.map=arguments[1]}else n.name=arguments[1],n.unsafe=arguments[2]}return n.context=="html"?n.setter=this.html:n.context=="css"?n.setter=this.css:n.context=="attr"&&(n.setter=this.attr),n.setter.call(this,c[n.context].call(this,n))};var h=Class.extend({_input:null,_pushback:null,_temp:null,_index:0,_mark:0,_hasNext:function(){return this._input==null?!1:this._input.length==0?!1:this._index<this._input.length},init:function(e){this._input=e},pushback:function(e){this._pushback=e},index:function(){return this._index},hasNext:function(){return this._pushback!=null?!0:this._hasNext()},next:function(){if(this._pushback!=null){var e=this._pushback;return this._pushback=null,e}return this._hasNext()?this._input.charAt(this._index++):null},nextHex:function(){var e=this.next();return e==null?null:e.match(/[0-9A-Fa-f]/)?e:null},peek:function(e){return e?this._pushback&&this._pushback==e?!0:this._hasNext()?this._input.charAt(this._index)==e:!1:this._pushback?this._pushback:this._hasNext()?this._input.charAt(this._index):null},mark:function(){this._temp=this._pushback,this._mark=this._index},reset:function(){this._pushback=this._temp,this._index=this._mark},remainder:function(){var e=this._input.substr(this._index);return this._pushback!=null&&(e=this._pushback+e),e}}),p=Class.extend({decode:function(e){var t="",n=new h(e);while(n.hasNext()){var r=this.decodeCharacter(n);r!=null?t+=r:t+=n.next()}return t},decodeCharacter:function(e){return e.next()}}),d=p.extend({decodeCharacter:function(e){e.mark();var t=e.next();if(t==null||t!="&")return e.reset(),null;var n=e.next();if(n==null)return e.reset(),null;var r;if(n=="#"){r=this._getNumericEntity(e);if(r!=null)return r}else if(n.match(/[A-Za-z]/)){e.pushback(n),r=this._getNamedEntity(e);if(r!=null)return r}return e.reset(),null},_getNamedEntity:function(e){var t="",n,r;r=Math.min(e.remainder().length,S.getMaxKeyLength());for(var i=0;i<r;i++)t+=e.next().toLowerCase();n=S.getLongestMatch(t);if(n==null)return null;e.reset(),e.next(),r=n.getKey().length;for(var s=0;s<r;s++)e.next();return e.peek(";")&&e.next(),n.getValue()},_getNumericEntity:function(e){var t=e.peek();return t==null?null:t=="x"||t=="X"?(e.next(),this._parseHex(e)):this._parseNumber(e)},_parseHex:function(e){var t="";while(e.hasNext()){var n=e.peek();if(!!isNaN(parseInt(n,16))){if(n==";"){e.next();break}break}t+=n,e.next()}var r=parseInt(t,16);return!isNaN(r)&&y(r)?String.fromCharCode(r):null},_parseNumber:function(e){var t="";while(e.hasNext()){var n=e.peek();if(!!isNaN(parseInt(n,10))){if(n==";"){e.next();break}break}t+=n,e.next()}var r=parseInt(t,10);return!isNaN(r)&&y(r)?String.fromCharCode(r):null}}),v=p.extend({decodeCharacter:function(e){e.mark();var t=e.next();if(t==null)return e.reset(),null;if(t!="%")return e.reset(),null;var n="";for(var r=0;r<2;r++){var i=e.nextHex();i!=null&&(n+=i)}if(n.length==2){var s=parseInt(n,16);if(y(s))return String.fromCharCode(s)}return e.reset(),null}}),m=p.extend({decodeCharacter:function(e){e.mark();var t=e.next();if(t==null||t!="\\")return e.reset(),null;var n=e.next();if(n==null)return e.reset(),null;switch(n){case"\r":e.peek("\n")&&e.next();case"\n":case"\f":case"\0":return this.decodeCharacter(e)}if(parseInt(n,16)=="NaN")return n;var r=n;for(var i=0;i<5;i++){var s=e.next();if(s==null||b(s))break;if(parseInt(s,16)=="NaN"){e.pushback(s);break}r+=s}var o=parseInt(r,16);return y(o)?String.fromCharCode(o):""}}),g=Class.extend({root:null,maxKeyLen:0,size:0,init:function(){this.clear()},getLongestMatch:function(e){return this.root==null&&e==null?null:this.root.getLongestMatch(e,0)},getMaxKeyLength:function(){return this.maxKeyLen},clear:function(){this.root=null,this.maxKeyLen=0,this.size=0},put:function(e,t){var n,r;return this.root==null&&(this.root=new g.Node),(r=this.root.put(e,0,t))!=null?r:((n=e.length)>this.maxKeyLen&&(this.maxKeyLen=e.length),this.size++,null)}});g.Entry=Class.extend({_key:null,_value:null,init:function(e,t){this._key=e,this._value=t},getKey:function(){return this._key},getValue:function(){return this._value},equals:function(e){return e instanceof g.Entry?this._key==e._key&&this._value==e._value:!1}}),g.Node=Class.extend({_value:null,_nextMap:null,setValue:function(e){this._value=e},getNextNode:function(e){return this._nextMap?this._nextMap[e]:null},put:function(e,t,n){var r,i,s;return e.length==t?(s=this._value,this.setValue(n),s):(i=e.charAt(t),this._nextMap==null?(this._nextMap=g.Node.newNodeMap(),r=new g.Node,this._nextMap[i]=r):(r=this._nextMap[i])==null&&(r=new g.Node,this._nextMap[i]=r),r.put(e,t+1,n))},get:function(e,t){var n;return e.length<=t?this._value:(n=this.getNextNode(e.charAt(t)))==null?null:n.get(e,t+1)},getLongestMatch:function(e,t){var n,r;return e.length<=t?g.Entry.newInstanceIfNeeded(e,this._value):(n=this.getNextNode(e.charAt(t)))==null?g.Entry.newInstanceIfNeeded(e,t,this._value):(r=n.getLongestMatch(e,t+1))!=null?r:g.Entry.newInstanceIfNeeded(e,t,this._value)}}),g.Entry.newInstanceIfNeeded=function(){var e=arguments[0],t,n;return typeof arguments[1]=="string"?(t=arguments[1],n=e.length):(n=arguments[1],t=arguments[2]),t==null||e==null?null:(e.length>n&&(e=e.substr(0,n)),new g.Entry(e,t))},g.Node.newNodeMap=function(){return{}};var y=function(e){return e>=0&&e<=1114111},b=function(e){return e.match(/[\s]/)},w=[],E=[],S=new g;(function(){w["&quot"]="34",w["&amp"]="38",w["&lt"]="60",w["&gt"]="62",w["&nbsp"]="160",w["&iexcl"]="161",w["&cent"]="162",w["&pound"]="163",w["&curren"]="164",w["&yen"]="165",w["&brvbar"]="166",w["&sect"]="167",w["&uml"]="168",w["&copy"]="169",w["&ordf"]="170",w["&laquo"]="171",w["&not"]="172",w["&shy"]="173",w["&reg"]="174",w["&macr"]="175",w["&deg"]="176",w["&plusmn"]="177",w["&sup2"]="178",w["&sup3"]="179",w["&acute"]="180",w["&micro"]="181",w["&para"]="182",w["&middot"]="183",w["&cedil"]="184",w["&sup1"]="185",w["&ordm"]="186",w["&raquo"]="187",w["&frac14"]="188",w["&frac12"]="189",w["&frac34"]="190",w["&iquest"]="191",w["&Agrave"]="192",w["&Aacute"]="193",w["&Acirc"]="194",w["&Atilde"]="195",w["&Auml"]="196",w["&Aring"]="197",w["&AElig"]="198",w["&Ccedil"]="199",w["&Egrave"]="200",w["&Eacute"]="201",w["&Ecirc"]="202",w["&Euml"]="203",w["&Igrave"]="204",w["&Iacute"]="205",w["&Icirc"]="206",w["&Iuml"]="207",w["&ETH"]="208",w["&Ntilde"]="209",w["&Ograve"]="210",w["&Oacute"]="211",w["&Ocirc"]="212",w["&Otilde"]="213",w["&Ouml"]="214",w["&times"]="215",w["&Oslash"]="216",w["&Ugrave"]="217",w["&Uacute"]="218",w["&Ucirc"]="219",w["&Uuml"]="220",w["&Yacute"]="221",w["&THORN"]="222",w["&szlig"]="223",w["&agrave"]="224",w["&aacute"]="225",w["&acirc"]="226",w["&atilde"]="227",w["&auml"]="228",w["&aring"]="229",w["&aelig"]="230",w["&ccedil"]="231",w["&egrave"]="232",w["&eacute"]="233",w["&ecirc"]="234",w["&euml"]="235",w["&igrave"]="236",w["&iacute"]="237",w["&icirc"]="238",w["&iuml"]="239",w["&eth"]="240",w["&ntilde"]="241",w["&ograve"]="242",w["&oacute"]="243",w["&ocirc"]="244",w["&otilde"]="245",w["&ouml"]="246",w["&divide"]="247",w["&oslash"]="248",w["&ugrave"]="249",w["&uacute"]="250",w["&ucirc"]="251",w["&uuml"]="252",w["&yacute"]="253",w["&thorn"]="254",w["&yuml"]="255",w["&OElig"]="338",w["&oelig"]="339",w["&Scaron"]="352",w["&scaron"]="353",w["&Yuml"]="376",w["&fnof"]="402",w["&circ"]="710",w["&tilde"]="732",w["&Alpha"]="913",w["&Beta"]="914",w["&Gamma"]="915",w["&Delta"]="916",w["&Epsilon"]="917",w["&Zeta"]="918",w["&Eta"]="919",w["&Theta"]="920",w["&Iota"]="921",w["&Kappa"]="922",w["&Lambda"]="923",w["&Mu"]="924",w["&Nu"]="925",w["&Xi"]="926",w["&Omicron"]="927",w["&Pi"]="928",w["&Rho"]="929",w["&Sigma"]="931",w["&Tau"]="932",w["&Upsilon"]="933",w["&Phi"]="934",w["&Chi"]="935",w["&Psi"]="936",w["&Omega"]="937",w["&alpha"]="945",w["&beta"]="946",w["&gamma"]="947",w["&delta"]="948",w["&epsilon"]="949",w["&zeta"]="950",w["&eta"]="951",w["&theta"]="952",w["&iota"]="953",w["&kappa"]="954",w["&lambda"]="955",w["&mu"]="956",w["&nu"]="957",w["&xi"]="958",w["&omicron"]="959",w["&pi"]="960",w["&rho"]="961",w["&sigmaf"]="962",w["&sigma"]="963",w["&tau"]="964",w["&upsilon"]="965",w["&phi"]="966",w["&chi"]="967",w["&psi"]="968",w["&omega"]="969",w["&thetasym"]="977",w["&upsih"]="978",w["&piv"]="982",w["&ensp"]="8194",w["&emsp"]="8195",w["&thinsp"]="8201",w["&zwnj"]="8204",w["&zwj"]="8205",w["&lrm"]="8206",w["&rlm"]="8207",w["&ndash"]="8211",w["&mdash"]="8212",w["&lsquo"]="8216",w["&rsquo"]="8217",w["&sbquo"]="8218",w["&ldquo"]="8220",w["&rdquo"]="8221",w["&bdquo"]="8222",w["&dagger"]="8224",w["&Dagger"]="8225",w["&bull"]="8226",w["&hellip"]="8230",w["&permil"]="8240",w["&prime"]="8242",w["&Prime"]="8243",w["&lsaquo"]="8249",w["&rsaquo"]="8250",w["&oline"]="8254",w["&frasl"]="8260",w["&euro"]="8364",w["&image"]="8365",w["&weierp"]="8472",w["&real"]="8476",w["&trade"]="8482",w["&alefsym"]="8501",w["&larr"]="8592",w["&uarr"]="8593",w["&rarr"]="8594",w["&darr"]="8595",w["&harr"]="8596",w["&crarr"]="8629",w["&lArr"]="8656",w["&uArr"]="8657",w["&rArr"]="8658",w["&dArr"]="8659",w["&hArr"]="8660",w["&forall"]="8704",w["&part"]="8706",w["&exist"]="8707",w["&empty"]="8709",w["&nabla"]="8711",w["&isin"]="8712",w["&notin"]="8713",w["&ni"]="8715",w["&prod"]="8719",w["&sum"]="8721",w["&minus"]="8722",w["&lowast"]="8727",w["&radic"]="8730",w["&prop"]="8733",w["&infin"]="8734",w["&ang"]="8736",w["&and"]="8743",w["&or"]="8744",w["&cap"]="8745",w["&cup"]="8746",w["&int"]="8747",w["&there4"]="8756",w["&sim"]="8764",w["&cong"]="8773",w["&asymp"]="8776",w["&ne"]="8800",w["&equiv"]="8801",w["&le"]="8804",w["&ge"]="8805",w["&sub"]="8834",w["&sup"]="8835",w["&nsub"]="8836",w["&sube"]="8838",w["&supe"]="8839",w["&oplus"]="8853",w["&otimes"]="8855",w["&perp"]="8869",w["&sdot"]="8901",w["&lceil"]="8968",w["&rceil"]="8969",w["&lfloor"]="8970",w["&rfloor"]="8971",w["&lang"]="9001",w["&rang"]="9002",w["&loz"]="9674",w["&spades"]="9824",w["&clubs"]="9827",w["&hearts"]="9829",w["&diams"]="9830";for(var e in w)typeof w[e]!="function"&&w.hasOwnProperty(e)&&(E[w[e]]=e);for(var t in E)if(typeof E[t]!="function"&&E.hasOwnProperty(t)){var n=E[t].toLowerCase().substr(1);S.put(n,String.fromCharCode(t))}})(),Object.freeze?(e.encoder=Object.freeze(e.encoder),e.fn.encode=Object.freeze(e.fn.encode)):Object.seal?(e.encoder=Object.seal(e.encoder),e.fn.encode=Object.seal(e.fn.encode)):Object.preventExtensions&&(e.encoder=Object.preventExtensions(e.encoder),e.fn.encode=Object.preventExtensions(e.fn.encode))}(e)}),function(e){e.fn.fileSize=function(e){var t=["bytes","KB","MB","GB","TB","PB"],n=0;while(e>=1024)e/=1024,n++;return Math.round(e*10)/10+" "+t[n]}}($),define("jquery.fileSize",function(){}),function(e){function t(){if(!e.fn.ajaxSubmit.debug)return;var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}e.fn.ajaxSubmit=function(n){function S(t){var r=new FormData;for(var i=0;i<t.length;i++){if(t[i].type=="file")continue;r.append(t[i].name,t[i].value)}o.find("input:file:enabled").each(function(){var t=e(this).attr("name"),n=this.files;if(t)for(var i=0;i<n.length;i++)r.append(t,n[i])}),n.data=null;var s=n.beforeSend;n.beforeSend=function(e,t){t.data=r,e.upload&&(e.upload.onprogress=function(e){t.progress(e.position,e.total)}),s&&s.call(t,e,t)},e.ajax(n)}function x(i){function S(e){var t=e.contentWindow?e.contentWindow.document:e.contentDocument?e.contentDocument:e.document;return t}function N(){function u(){try{var e=S(p).readyState;t("state = "+e),e.toLowerCase()=="uninitialized"&&setTimeout(u,50)}catch(n){t("Server abort: ",n," (",n.name,")"),O(E),y&&clearTimeout(y),y=undefined}}var n=o.attr("target"),i=o.attr("action");s.setAttribute("target",c),r||s.setAttribute("method","POST"),i!=f.url&&s.setAttribute("action",f.url),!f.skipEncodingOverride&&(!r||/post/i.test(r))&&o.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),f.timeout&&(y=setTimeout(function(){g=!0,O(w)},f.timeout));var a=[];try{if(f.extraData)for(var l in f.extraData)a.push(e('<input type="hidden" name="'+l+'">').attr("value",f.extraData[l]).appendTo(s)[0]);f.iframeTarget||(h.appendTo("body"),p.attachEvent?p.attachEvent("onload",O):p.addEventListener("load",O,!1)),setTimeout(u,15),s.submit()}finally{s.setAttribute("action",i),n?s.setAttribute("target",n):o.removeAttr("target"),e(a).remove()}}function O(n){if(d.aborted||A)return;try{k=S(p)}catch(r){t("cannot access response document: ",r),n=E}if(n===w&&d){d.abort("timeout");return}if(n==E&&d){d.abort("server abort");return}if(!k||k.location.href==f.iframeSrc)if(!g)return;p.detachEvent?p.detachEvent("onload",O):p.removeEventListener("load",O,!1);var i="success",s;try{if(g)throw"timeout";var o=f.dataType=="xml"||k.XMLDocument||e.isXMLDoc(k);t("isXml="+o);if(!o&&window.opera&&(k.body==null||k.body.innerHTML=="")&&--L){t("requeing onLoad callback, DOM not available"),setTimeout(O,250);return}var u=k.body?k.body:k.documentElement;d.responseText=u?u.innerHTML:null,d.responseXML=k.XMLDocument?k.XMLDocument:k,o&&(f.dataType="xml"),d.getResponseHeader=function(e){var t={"content-type":f.dataType};return t[e]},u&&(d.status=Number(u.getAttribute("status"))||d.status,d.statusText=u.getAttribute("statusText")||d.statusText);var a=(f.dataType||"").toLowerCase(),c=/(json|script|text)/.test(a);if(c||f.textarea){var v=k.getElementsByTagName("textarea")[0];if(v)d.responseText=v.value,d.status=Number(v.getAttribute("status"))||d.status,d.statusText=v.getAttribute("statusText")||d.statusText;else if(c){var m=k.getElementsByTagName("pre")[0],b=k.getElementsByTagName("body")[0];m?d.responseText=m.textContent?m.textContent:m.innerText:b&&(d.responseText=b.textContent?b.textContent:b.innerText)}}else a=="xml"&&!d.responseXML&&d.responseText!=null&&(d.responseXML=M(d.responseText));try{C=D(d,a,f)}catch(n){i="parsererror",d.error=s=n||i}}catch(n){t("error caught: ",n),i="error",d.error=s=n||i}d.aborted&&(t("upload aborted"),i=null),d.status&&(i=d.status>=200&&d.status<300||d.status===304?"success":"error"),i==="success"?(f.success&&f.success.call(f.context,C,"success",d),l&&e.event.trigger("ajaxSuccess",[d,f])):i&&(s==undefined&&(s=d.statusText),f.error&&f.error.call(f.context,d,i,s),l&&e.event.trigger("ajaxError",[d,f,s])),l&&e.event.trigger("ajaxComplete",[d,f]),l&&!--e.active&&e.event.trigger("ajaxStop"),f.complete&&f.complete.call(f.context,d,i),A=!0,f.timeout&&clearTimeout(y),setTimeout(function(){f.iframeTarget||h.remove(),d.responseXML=null},100)}var s=o[0],u,a,f,l,c,h,p,d,v,m,g,y,b=!!e.fn.prop;if(i)if(b)for(a=0;a<i.length;a++)u=e(s[i[a].name]),u.prop("disabled",!1);else for(a=0;a<i.length;a++)u=e(s[i[a].name]),u.removeAttr("disabled");if(e(":input[name=submit],:input[id=submit]",s).length){alert('Error: Form elements must not have name or id of "submit".');return}f=e.extend(!0,{},e.ajaxSettings,n),f.context=f.context||f,c="jqFormIO"+(new Date).getTime(),f.iframeTarget?(h=e(f.iframeTarget),m=h.attr("name"),m==null?h.attr("name",c):c=m):(h=e('<iframe name="'+c+'" src="'+f.iframeSrc+'" />'),h.css({position:"absolute",top:"-1000px",left:"-1000px"})),p=h[0],d={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(n){var r=n==="timeout"?"timeout":"aborted";t("aborting upload... "+r),this.aborted=1,h.attr("src",f.iframeSrc),d.error=r,f.error&&f.error.call(f.context,d,r,n),l&&e.event.trigger("ajaxError",[d,f,r]),f.complete&&f.complete.call(f.context,d,r)}},l=f.global,l&&!(e.active++)&&e.event.trigger("ajaxStart"),l&&e.event.trigger("ajaxSend",[d,f]);if(f.beforeSend&&f.beforeSend.call(f.context,d,f)===!1){f.global&&e.active--;return}if(d.aborted)return;v=s.clk,v&&(m=v.name,m&&!v.disabled&&(f.extraData=f.extraData||{},f.extraData[m]=v.value,v.type=="image"&&(f.extraData[m+".x"]=s.clk_x,f.extraData[m+".y"]=s.clk_y)));var w=1,E=2,x=e("meta[name=csrf-token]").attr("content"),T=e("meta[name=csrf-param]").attr("content");T&&x&&(f.extraData=f.extraData||{},f.extraData[T]=x),f.forceSync?N():setTimeout(N,10);var C,k,L=50,A,M=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&t.documentElement.nodeName!="parsererror"?t:null},_=e.parseJSON||function(e){return window.eval("("+e+")")},D=function(t,n,r){var i=t.getResponseHeader("content-type")||"",s=n==="xml"||!n&&i.indexOf("xml")>=0,o=s?t.responseXML:t.responseText;return s&&o.documentElement.nodeName==="parsererror"&&e.error&&e.error("parsererror"),r&&r.dataFilter&&(o=r.dataFilter(o,n)),typeof o=="string"&&(n==="json"||!n&&i.indexOf("json")>=0?o=_(o):(n==="script"||!n&&i.indexOf("javascript")>=0)&&e.globalEval(o)),o}}if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;var r,i,s,o=this;typeof n=="function"&&(n={success:n}),r=this.attr("method"),i=this.attr("action"),s=typeof i=="string"?e.trim(i):"",s=s||window.location.href||"",s&&(s=(s.match(/^([^#]+)/)||[])[1]),n=e.extend(!0,{url:s,success:e.ajaxSettings.success,type:r||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},n);var u={};this.trigger("form-pre-serialize",[this,n,u]);if(u.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(n.beforeSerialize&&n.beforeSerialize(this,n)===!1)return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var a=n.traditional;a===undefined&&(a=e.ajaxSettings.traditional);var f,l,c,h=this.formToArray(n.semantic);n.data&&(n.extraData=n.data,f=e.param(n.data,a));if(n.beforeSubmit&&n.beforeSubmit(h,this,n)===!1)return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[h,this,n,u]);if(u.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var p=e.param(h,a);f&&(p=p?p+"&"+f:f),n.type.toUpperCase()=="GET"?(n.url+=(n.url.indexOf("?")>=0?"&":"?")+p,n.data=null):n.data=p;var d=[];n.resetForm&&d.push(function(){o.resetForm()}),n.clearForm&&d.push(function(){o.clearForm(n.includeHidden)});if(!n.dataType&&n.target){var v=n.success||function(){};d.push(function(t){var r=n.replaceTarget?"replaceWith":"html";e(n.target)[r](t).each(v,arguments)})}else n.success&&d.push(n.success);n.success=function(e,t,r){var i=n.context||n;for(var s=0,u=d.length;s<u;s++)d[s].apply(i,[e,t,r||o,o])};var m=e("input:file:enabled[value]",this),g=m.length>0,y="multipart/form-data",b=o.attr("enctype")==y||o.attr("encoding")==y,w=!!(g&&m.get(0).files&&window.FormData);t("fileAPI :"+w);var E=(g||b)&&!w;return n.iframe!==!1&&(n.iframe||E)?n.closeKeepAlive?e.get(n.closeKeepAlive,function(){x(h)}):x(h):(g||b)&&w?(n.progress=n.progress||e.noop,S(h)):e.ajax(n),this.trigger("form-submit-notify",[this,n]),this},e.fn.ajaxForm=function(n){if(this.length===0){var r={s:this.selector,c:this.context};return!e.isReady&&r.s?(t("DOM not ready, queuing ajaxForm"),e(function(){e(r.s,r.c).ajaxForm(n)}),this):(t("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return this.ajaxFormUnbind().bind("submit.form-plugin",function(t){t.isDefaultPrevented()||(t.preventDefault(),e(this).ajaxSubmit(n))}).bind("click.form-plugin",function(t){var n=t.target,r=e(n);if(!r.is(":submit,input:image")){var i=r.closest(":submit");if(i.length==0)return;n=i[0]}var s=this;s.clk=n;if(n.type=="image")if(t.offsetX!=undefined)s.clk_x=t.offsetX,s.clk_y=t.offsetY;else if(typeof e.fn.offset=="function"){var o=r.offset();s.clk_x=t.pageX-o.left,s.clk_y=t.pageY-o.top}else s.clk_x=t.pageX-n.offsetLeft,s.clk_y=t.pageY-n.offsetTop;setTimeout(function(){s.clk=s.clk_x=s.clk_y=null},100)})},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t){var n=[];if(this.length===0)return n;var r=this[0],i=t?r.getElementsByTagName("*"):r.elements;if(!i)return n;var s,o,u,a,f,l,c;for(s=0,l=i.length;s<l;s++){f=i[s],u=f.name;if(!u)continue;if(t&&r.clk&&f.type=="image"){!f.disabled&&r.clk==f&&(n.push({name:u,value:e(f).val(),type:f.type}),n.push({name:u+".x",value:r.clk_x},{name:u+".y",value:r.clk_y}));continue}a=e.fieldValue(f,!0);if(a&&a.constructor==Array)for(o=0,c=a.length;o<c;o++)n.push({name:u,value:a[o]});else a!==null&&typeof a!="undefined"&&n.push({name:u,value:a,type:f.type})}if(!t&&r.clk){var h=e(r.clk),p=h[0];u=p.name,u&&!p.disabled&&p.type=="image"&&(n.push({name:u,value:h.val()}),n.push({name:u+".x",value:r.clk_x},{name:u+".y",value:r.clk_y}))}return n},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var n=[];return this.each(function(){var r=this.name;if(!r)return;var i=e.fieldValue(this,t);if(i&&i.constructor==Array)for(var s=0,o=i.length;s<o;s++)n.push({name:r,value:i[s]});else i!==null&&typeof i!="undefined"&&n.push({name:this.name,value:i})}),e.param(n)},e.fn.fieldValue=function(t){for(var n=[],r=0,i=this.length;r<i;r++){var s=this[r],o=e.fieldValue(s,t);if(o===null||typeof o=="undefined"||o.constructor==Array&&!o.length)continue;o.constructor==Array?e.merge(n,o):n.push(o)}return n},e.fieldValue=function(t,n){var r=t.name,i=t.type,s=t.tagName.toLowerCase();n===undefined&&(n=!0);if(n&&(!r||t.disabled||i=="reset"||i=="button"||(i=="checkbox"||i=="radio")&&!t.checked||(i=="submit"||i=="image")&&t.form&&t.form.clk!=t||s=="select"&&t.selectedIndex==-1))return null;if(s=="select"){var o=t.selectedIndex;if(o<0)return null;var u=[],a=t.options,f=i=="select-one",l=f?o+1:a.length;for(var c=f?o:0;c<l;c++){var h=a[c];if(h.selected){var p=h.value;p||(p=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value);if(f)return p;u.push(p)}}return u}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(e){var t=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,r=this.tagName.toLowerCase();t.test(n)||r=="textarea"||e&&/hidden/.test(n)?this.value="":n=="checkbox"||n=="radio"?this.checked=!1:r=="select"&&(this.selectedIndex=-1)})},e.fn.resetForm=function(){return this.each(function(){(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return e===undefined&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return t===undefined&&(t=!0),this.each(function(){var n=this.type;if(n=="checkbox"||n=="radio")this.checked=t;else if(this.tagName.toLowerCase()=="option"){var r=e(this).parent("select");t&&r[0]&&r[0].type=="select-one"&&r.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}(jQuery),define("jquery.form",function(){}),define("jquery.notify",["jquery"],function(e){(function(e){var t=function(n,r){return this.$element=e(n),this.$note=e('<div class="alert"></div>'),this.options=e.extend(!0,{},e.fn.notify.defaults,r),this._link=null,this.options.transition?this.options.transition==="fade"?this.$note.addClass("in").addClass(this.options.transition):this.$note.addClass(this.options.transition):this.$note.addClass("fade").addClass("in"),this.options.type?this.$note.addClass("alert-"+this.options.type):this.$note.addClass("alert-success"),this.options.message&&(typeof this.options.message=="string"?this.$note.html(this.options.message):typeof this.options.message=="object"&&(this.options.message.html?this.$note.html(this.options.message.html):this.options.message.text&&this.$note.text(this.options.message.text))),this.options.closable&&(this._link=e('<a class="close pull-right">&times;</a>'),e(this._link).on("click",e.proxy(t.onClose,this)),this.$note.prepend(this._link)),this};t.onClose=function(){this.options.onClose(),e(this.$note).remove(),this.options.onClosed()},t.prototype.show=function(){this.options.fadeOut.enabled&&this.$note.delay(this.options.fadeOut.delay||3e3).fadeOut("slow",e.proxy(t.onClose,this)),this.$element.append(this.$note),this.$note.alert()},t.prototype.hide=function(){this.options.fadeOut.enabled?this.$note.delay(this.options.fadeOut.delay||3e3).fadeOut("slow",e.proxy(t.onClose,this)):t.onClose.call(this)},e.fn.notify=function(e){return new t(this,e)},e.fn.notify.defaults={type:"success",closable:!0,transition:"fade",fadeOut:{enabled:!0,delay:3e3},message:null,onClose:function(){},onClosed:function(){}}})(window.jQuery)}),function(e){typeof define=="function"&&define.amd?typeof jQuery!="undefined"?define("jquery.parseurl",["jquery"],e):define("parseurl",[],e):typeof jQuery!="undefined"?e(jQuery):e()}(function(e,t){function a(e,t){var n=decodeURI(e),i=s[t||!1?"strict":"loose"].exec(n),o={attr:{},param:{},seg:{}},u=14;while(u--)o.attr[r[u]]=i[u]||"";return o.param.query=p(o.attr.query),o.param.fragment=p(o.attr.fragment),o.seg.path=o.attr.path.replace(/^\/+|\/+$/g,"").split("/"),o.seg.fragment=o.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),o.attr.base=o.attr.host?(o.attr.protocol?o.attr.protocol+"://"+o.attr.host:o.attr.host)+(o.attr.port?":"+o.attr.port:""):"",o}function f(e){var t=e.tagName;return typeof t!="undefined"?n[t.toLowerCase()]:t}function l(e,t){if(e[t].length==0)return e[t]={};var n={};for(var r in e[t])n[r]=e[t][r];return e[t]=n,n}function c(e,t,n,r){var i=e.shift();if(!i)g(t[n])?t[n].push(r):"object"==typeof t[n]?t[n]=r:"undefined"==typeof t[n]?t[n]=r:t[n]=[t[n],r];else{var s=t[n]=t[n]||[];"]"==i?g(s)?""!=r&&s.push(r):"object"==typeof s?s[y(s).length]=r:s=t[n]=[t[n],r]:~i.indexOf("]")?(i=i.substr(0,i.length-1),!u.test(i)&&g(s)&&(s=l(t,n)),c(e,s,i,r)):(!u.test(i)&&g(s)&&(s=l(t,n)),c(e,s,i,r))}}function h(e,t,n){if(~t.indexOf("]")){var r=t.split("["),i=r.length,s=i-1;c(r,e,"base",n)}else{if(!u.test(t)&&g(e.base)){var o={};for(var a in e.base)o[a]=e.base[a];e.base=o}d(e.base,t,n)}return e}function p(e){return m(String(e).split(/&|;/),function(e,t){try{t=decodeURIComponent(t.replace(/\+/g," "))}catch(n){}var r=t.indexOf("="),i=v(t),s=t.substr(0,i||r),o=t.substr(i||r,t.length),o=o.substr(o.indexOf("=")+1,o.length);return""==s&&(s=t,o=""),h(e,s,o)},{base:{}}).base}function d(e,n,r){var i=e[n];t===i?e[n]=r:g(i)?i.push(r):e[n]=[i,r]}function v(e){var t=e.length,n,r;for(var i=0;i<t;++i){r=e[i],"]"==r&&(n=!1),"["==r&&(n=!0);if("="==r&&!n)return i}}function m(e,n){var r=0,i=e.length>>0,s=arguments[2];while(r<i)r in e&&(s=n.call(t,s,e[r],r,e)),++r;return s}function g(e){return Object.prototype.toString.call(e)==="[object Array]"}function y(e){var t=[];for(prop in e)e.hasOwnProperty(prop)&&t.push(prop);return t}function b(e,n){return arguments.length===1&&e===!0&&(n=!0,e=t),n=n||!1,e=e||window.location.toString(),{data:a(e,n),attr:function(e){return e=i[e]||e,typeof e!="undefined"?this.data.attr[e]:this.data.attr},param:function(e){return typeof e!="undefined"?this.data.param.query[e]:this.data.param.query},fparam:function(e){return typeof e!="undefined"?this.data.param.fragment[e]:this.data.param.fragment},segment:function(e){return typeof e=="undefined"?this.data.seg.path:(e=e<0?this.data.seg.path.length+e:e-1,this.data.seg.path[e])},fsegment:function(e){return typeof e=="undefined"?this.data.seg.fragment:(e=e<0?this.data.seg.fragment.length+e:e-1,this.data.seg.fragment[e])}}}var n={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],i={anchor:"fragment"},s={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},o=Object.prototype.toString,u=/^[0-9]+$/;typeof e!="undefined"?(e.fn.url=function(t){var n="";return this.length&&(n=e(this).attr(f(this[0]))||""),b(n,t)},e.url=b):window.purl=b}),function(e){e.fn.serializeObject=function(t){var n={},r=this.serializeArray();return t=t===!1?!1:!0,e.each(r,function(){if(n[this.name])n[this.name].push||(n[this.name]=[n[this.name]]),(t||e.trim(this.value)!=="")&&n[this.name].push(this.value||"");else if(t||e.trim(this.value)!=="")n[this.name]=this.value||""}),n}}($),define("jquery.serializeObject",function(){}),function(e,t){function i(t,n){var r,i,o,u=t.nodeName.toLowerCase();return"area"===u?(r=t.parentNode,i=r.name,!t.href||!i||r.nodeName.toLowerCase()!=="map"?!1:(o=e("img[usemap=#"+i+"]")[0],!!o&&s(o))):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter(function(){return e.css(this,"visibility")==="hidden"}).length}var n=0,r=/^ui-id-\d+$/;e.ui=e.ui||{};if(e.ui.version)return;e.extend(e.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,n){return typeof t=="number"?this.each(function(){var r=this;setTimeout(function(){e(r).focus(),n&&n.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):t=this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length){var r=e(this[0]),i,s;while(r.length&&r[0]!==document){i=r.css("position");if(i==="absolute"||i==="relative"||i==="fixed"){s=parseInt(r.css("zIndex"),10);if(!isNaN(s)&&s!==0)return s}r=r.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(t,!r)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=n.offsetHeight===100,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function u(t,n,r,s){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i=r==="Width"?["Left","Right"]:["Top","Bottom"],s=r.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?o["inner"+r].call(this):this.each(function(){e(this).css(s,u(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return typeof t!="number"?o["outer"+r].call(this,t):this.each(function(){e(this).css(s,u(this,t,!0,n)+"px")})}}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=t.length?!0:!1,e.ui.ie6=parseFloat(t[1],10)===6}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n){var r,i=e.plugins[t];if(!i||!e.element[0].parentNode||e.element[0].parentNode.nodeType===11)return;for(r=0;r<i.length;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},contains:e.contains,hasScroll:function(t,n){if(e(t).css("overflow")==="hidden")return!1;var r=n&&n==="left"?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},isOverAxis:function(e,t,n){return e>t&&e<t+n},isOver:function(t,n,r,i,s,o){return e.ui.isOverAxis(t,r,s)&&e.ui.isOverAxis(n,i,o)}})}(jQuery),function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,a=t.split(".")[0];t=t.split(".")[1],i=a+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[a]=e[a]||{},s=e[a][t],o=e[a][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,i){e.isFunction(i)&&(r[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=r,s=i.apply(this,arguments),this._super=t,this._superApply=n,s}}())}),o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix:t},r,{constructor:o,namespace:a,widgetName:t,widgetBaseClass:i,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s])a=i[s][u],i[s].hasOwnProperty(u)&&a!==t&&(e.isPlainObject(a)?n[u]=e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a):n[u]=a);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName||n;e.fn[n]=function(o){var u=typeof o=="string",a=r.call(arguments,1),f=this;return o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,u?this.each(function(){var r,i=e.data(this,s);if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,a);if(r!==i&&r!==t)return f=r&&r.jquery?f.pushStack(r.get()):r,!1}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():e.data(this,s,new i(o,this))}),f}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetName,this),e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={},s=n.split("."),n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];n=s.pop();if(r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];i[n]=r}}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,r){var i,s=this;typeof t!="boolean"&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){if(!t&&(s.options.disabled===!0||e(this).hasClass("ui-state-disabled")))return;return(typeof o=="string"?s[o]:o).apply(s,arguments)}typeof o!="string"&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^(\w+)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.delegate(l,f,u):n.bind(f,u)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&(e.effects.effect[u]||e.uiBackCompat!==!1&&e.effects[u])?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(e,t){var n=!1;e(document).mouseup(function(e){n=!1}),e.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(n)return;this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var r=this,i=t.which===1,s=typeof this.options.cancel=="string"&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;if(!i||s||!this._mouseCapture(t))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(t)!==!1;if(!this._mouseStarted)return t.preventDefault(),!0}return!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0},_mouseMove:function(t){return!e.ui.ie||document.documentMode>=9||!!t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return!0}})}(jQuery),function(e,t){e.widget("ui.draggable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(t),this.handle?(e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),n.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute");if(!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";return e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=!1;e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1);var r=this.element[0],i=!1;while(r&&(r=r.parentNode))r==document&&(i=!0);if(!i&&this.options.helper==="original")return!1;if(this.options.revert=="invalid"&&!n||this.options.revert=="valid"&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)){var s=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){s._trigger("stop",t)!==!1&&s._clear()})}else this._trigger("stop",t)!==!1&&this._clear();return!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var n=!this.options.handle||!e(this.options.handle,this.element).length?!0:!1;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(n=!0)}),n},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):n.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo(n.appendTo=="parent"?this.element[0].parentNode:n.appendTo),r[0]!=this.element[0]&&!/(fixed|absolute)/.test(r.css("position"))&&r.css("position","absolute"),r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&e.ui.ie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;t.containment=="parent"&&(t.containment=this.helper[0].parentNode);if(t.containment=="document"||t.containment=="window")this.containment=[t.containment=="document"?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t.containment=="document"?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(t.containment=="document"?0:e(window).scrollLeft())+e(t.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(t.containment=="document"?0:e(window).scrollTop())+(e(t.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(t.containment)&&t.containment.constructor!=Array){var n=e(t.containment),r=n[0];if(!r)return;var i=n.offset(),s=e(r).css("overflow")!="hidden";this.containment=[(parseInt(e(r).css("borderLeftWidth"),10)||0)+(parseInt(e(r).css("paddingLeft"),10)||0),(parseInt(e(r).css("borderTopWidth"),10)||0)+(parseInt(e(r).css("paddingTop"),10)||0),(s?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(e(r).css("borderLeftWidth"),10)||0)-(parseInt(e(r).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(s?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(e(r).css("borderTopWidth"),10)||0)-(parseInt(e(r).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n}else t.containment.constructor==Array&&(this.containment=t.containment)},_convertPositionTo:function(t,n){n||(n=this.position);var r=t=="absolute"?1:-1,i=this.options,s=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():o?0:s.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*r}},_generatePosition:function(t){var n=this.options,r=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName),s=t.pageX,o=t.pageY;if(this.originalPosition){var u;if(this.containment){if(this.relative_container){var a=this.relative_container.offset();u=[this.containment[0]+a.left,this.containment[1]+a.top,this.containment[2]+a.left,this.containment[3]+a.top]}else u=this.containment;t.pageX-this.offset.click.left<u[0]&&(s=u[0]+this.offset.click.left),t.pageY-this.offset.click.top<u[1]&&(o=u[1]+this.offset.click.top),t.pageX-this.offset.click.left>u[2]&&(s=u[2]+this.offset.click.left),t.pageY-this.offset.click.top>u[3]&&(o=u[3]+this.offset.click.top)}if(n.grid){var f=n.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1]:this.originalPageY;o=u?f-this.offset.click.top<u[1]||f-this.offset.click.top>u[3]?f-this.offset.click.top<u[1]?f+n.grid[1]:f-n.grid[1]:f:f;var l=n.grid[0]?this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0]:this.originalPageX;s=u?l-this.offset.click.left<u[0]||l-this.offset.click.left>u[2]?l-this.offset.click.left<u[0]?l+n.grid[0]:l-n.grid[0]:l:l}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():i?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r]),t=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(e){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var r=e(this).data("draggable"),i=r.options,s=e.extend({},n,{item:r.element});r.sortables=[],e(i.connectToSortable).each(function(){var n=e.data(this,"sortable");n&&!n.options.disabled&&(r.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,s))})},stop:function(t,n){var r=e(this).data("draggable"),i=e.extend({},n,{item:r.element});e.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,r.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,i))})},drag:function(t,n){var r=e(this).data("draggable"),i=this,s=function(t){var n=this.offset.click.top,r=this.offset.click.left,i=this.positionAbs.top,s=this.positionAbs.left,o=t.height,u=t.width,a=t.top,f=t.left;return e.ui.isOver(i+n,s+r,a,f,o,u)};e.each(r.sortables,function(s){var o=!1,u=this;this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,e.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!=u&&this.instance._intersectsWith(this.instance.containerCache)&&e.ui.contains(u.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(i).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n){var r=e("body"),i=e(this).data("draggable").options;r.css("cursor")&&(i._cursor=r.css("cursor")),r.css("cursor",i.cursor)},stop:function(t,n){var r=e(this).data("draggable").options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var r=e(n.helper),i=e(this).data("draggable").options;r.css("opacity")&&(i._opacity=r.css("opacity")),r.css("opacity",i.opacity)},stop:function(t,n){var r=e(this).data("draggable").options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(t,n){var r=e(this).data("draggable");r.scrollParent[0]!=document&&r.scrollParent[0].tagName!="HTML"&&(r.overflowOffset=r.scrollParent.offset())},drag:function(t,n){var r=e(this).data("draggable"),i=r.options,s=!1;if(r.scrollParent[0]!=document&&r.scrollParent[0].tagName!="HTML"){if(!i.axis||i.axis!="x")r.overflowOffset.top+r.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?r.scrollParent[0].scrollTop=s=r.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(r.scrollParent[0].scrollTop=s=r.scrollParent[0].scrollTop-i.scrollSpeed);if(!i.axis||i.axis!="y")r.overflowOffset.left+r.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?r.scrollParent[0].scrollLeft=s=r.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(r.scrollParent[0].scrollLeft=s=r.scrollParent[0].scrollLeft-i.scrollSpeed)}else{if(!i.axis||i.axis!="x")t.pageY-e(document).scrollTop()<i.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed));if(!i.axis||i.axis!="y")t.pageX-e(document).scrollLeft()<i.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed))}s!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n){var r=e(this).data("draggable"),i=r.options;r.snapElements=[],e(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var t=e(this),n=t.offset();this!=r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n){var r=e(this).data("draggable"),i=r.options,s=i.snapTolerance,o=n.offset.left,u=o+r.helperProportions.width,a=n.offset.top,f=a+r.helperProportions.height;for(var l=r.snapElements.length-1;l>=0;l--){var c=r.snapElements[l].left,h=c+r.snapElements[l].width,p=r.snapElements[l].top,d=p+r.snapElements[l].height;if(!(c-s<o&&o<h+s&&p-s<a&&a<d+s||c-s<o&&o<h+s&&p-s<f&&f<d+s||c-s<u&&u<h+s&&p-s<a&&a<d+s||c-s<u&&u<h+s&&p-s<f&&f<d+s)){r.snapElements[l].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[l].item})),r.snapElements[l].snapping=!1;continue}if(i.snapMode!="inner"){var v=Math.abs(p-f)<=s,m=Math.abs(d-a)<=s,g=Math.abs(c-u)<=s,y=Math.abs(h-o)<=s;v&&(n.position.top=r._convertPositionTo("relative",{top:p-r.helperProportions.height,left:0}).top-r.margins.top),m&&(n.position.top=r._convertPositionTo("relative",{top:d,left:0}).top-r.margins.top),g&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left-r.margins.left),y&&(n.position.left=r._convertPositionTo("relative",{top:0,left:h}).left-r.margins.left)}var b=v||m||g||y;if(i.snapMode!="outer"){var v=Math.abs(p-a)<=s,m=Math.abs(d-f)<=s,g=Math.abs(c-o)<=s,y=Math.abs(h-u)<=s;v&&(n.position.top=r._convertPositionTo("relative",{top:p,left:0}).top-r.margins.top),m&&(n.position.top=r._convertPositionTo("relative",{top:d-r.helperProportions.height,left:0}).top-r.margins.top),g&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c}).left-r.margins.left),y&&(n.position.left=r._convertPositionTo("relative",{top:0,left:h-r.helperProportions.width}).left-r.margins.left)}!r.snapElements[l].snapping&&(v||m||g||y||b)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[l].item})),r.snapElements[l].snapping=v||m||g||y||b}}}),e.ui.plugin.add("draggable","stack",{start:function(t,n){var r=e(this).data("draggable").options,i=e.makeArray(e(r.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});if(!i.length)return;var s=parseInt(i[0].style.zIndex)||0;e(i).each(function(e){this.style.zIndex=s+e}),this[0].style.zIndex=s+i.length}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var r=e(n.helper),i=e(this).data("draggable").options;r.css("zIndex")&&(i._zIndex=r.css("zIndex")),r.css("zIndex",i.zIndex)},stop:function(t,n){var r=e(this).data("draggable").options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}})}(jQuery),function(e,t){e.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,n=t.accept;this.isover=0,this.isout=1,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];for(var n=0;n<t.length;n++)t[n]==this&&t.splice(n,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){t=="accept"&&(this.accept=e.isFunction(n)?n:function(e){return e.is(n)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]==this.element[0])return;this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]==this.element[0])return;this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current;if(!r||(r.currentItem||r.element)[0]==this.element[0])return!1;var i=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope==r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(t,{offset:t.element.offset()}),t.options.tolerance))return i=!0,!1}),i?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(t,n,r){if(!n.offset)return!1;var i=(t.positionAbs||t.position.absolute).left,s=i+t.helperProportions.width,o=(t.positionAbs||t.position.absolute).top,u=o+t.helperProportions.height,a=n.offset.left,f=a+n.proportions.width,l=n.offset.top,c=l+n.proportions.height;switch(r){case"fit":return a<=i&&s<=f&&l<=o&&u<=c;case"intersect":return a<i+t.helperProportions.width/2&&s-t.helperProportions.width/2<f&&l<o+t.helperProportions.height/2&&u-t.helperProportions.height/2<c;case"pointer":var h=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,p=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,d=e.ui.isOver(p,h,l,a,n.proportions.height,n.proportions.width);return d;case"touch":return(o>=l&&o<=c||u>=l&&u<=c||o<l&&u>c)&&(i>=a&&i<=f||s>=a&&s<=f||i<a&&s>f);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var r=e.ui.ddmanager.droppables[t.options.scope]||[],i=n?n.type:null,s=(t.currentItem||t.element).find(":data(droppable)").andSelf();e:for(var o=0;o<r.length;o++){if(r[o].options.disabled||t&&!r[o].accept.call(r[o].element[0],t.currentItem||t.element))continue;for(var u=0;u<s.length;u++)if(s[u]==r[o].element[0]){r[o].proportions.height=0;continue e}r[o].visible=r[o].element.css("display")!="none";if(!r[o].visible)continue;i=="mousedown"&&r[o]._activate.call(r[o],n),r[o].offset=r[o].element.offset(),r[o].proportions={width:r[o].element[0].offsetWidth,height:r[o].element[0].offsetHeight}}},drop:function(t,n){var r=!1;return e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options)return;!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,n))}),r},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible)return;var r=e.ui.intersect(t,this,this.options.tolerance),i=!r&&this.isover==1?"isout":r&&this.isover==0?"isover":null;if(!i)return;var s;if(this.options.greedy){var o=this.options.scope,u=this.element.parents(":data(droppable)").filter(function(){return e.data(this,"droppable").options.scope===o});u.length&&(s=e.data(u[0],"droppable"),s.greedyChild=i=="isover"?1:0)}s&&i=="isover"&&(s.isover=0,s.isout=1,s._out.call(s,n)),this[i]=1,this[i=="isout"?"isover":"isout"]=0,this[i=="isover"?"_over":"_out"].call(this,n),s&&i=="isout"&&(s.isout=0,s.isover=1,s._over.call(s,n))})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}}}(jQuery),function(e,t){e.widget("ui.resizable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,n=this.options;this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=n.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var r=this.handles.split(",");this.handles={};for(var i=0;i<r.length;i++){var s=e.trim(r[i]),o="ui-resizable-"+s,u=e('<div class="ui-resizable-handle '+o+'"></div>');u.css({zIndex:n.zIndex}),"se"==s&&u.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(u)}}this._renderAxis=function(t){t=t||this.element;for(var n in this.handles){this.handles[n].constructor==String&&(this.handles[n]=e(this.handles[n],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var r=e(this.handles[n],this.element),i=0;i=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth();var s=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");t.css(s,i),this._proportionallyResize()}if(!e(this.handles[n]).length)continue}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),n.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(n.disabled)return;e(this).removeClass("ui-resizable-autohide"),t._handles.show()}).mouseleave(function(){if(n.disabled)return;t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var n=this.element;this.originalElement.css({position:n.css("position"),width:n.outerWidth(),height:n.outerHeight(),top:n.css("top"),left:n.css("left")}).insertAfter(n),n.remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var n=!1;for(var r in this.handles)e(this.handles[r])[0]==t.target&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var r=this.options,i=this.element.position(),s=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(s.is(".ui-draggable")||/absolute/.test(s.css("position")))&&s.css({position:"absolute",top:i.top,left:i.left}),this._renderProxy();var o=n(this.helper.css("left")),u=n(this.helper.css("top"));r.containment&&(o+=e(r.containment).scrollLeft()||0,u+=e(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:o,top:u},this.size=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalPosition={left:o,top:u},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=typeof r.aspectRatio=="number"?r.aspectRatio:this.originalSize.width/this.originalSize.height||1;var a=e(".ui-resizable-"+this.axis).css("cursor");return e("body").css("cursor",a=="auto"?this.axis+"-resize":a),s.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(e){var t=this.helper,n=this.options,r={},i=this,s=this.originalMousePosition,o=this.axis,u=e.pageX-s.left||0,a=e.pageY-s.top||0,f=this._change[o];if(!f)return!1;var l=f.apply(this,[e,u,a]);this._updateVirtualBoundaries(e.shiftKey);if(this._aspectRatio||e.shiftKey)l=this._updateRatio(l,e);return l=this._respectSize(l,e),this._propagate("resize",e),t.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger("resize",e,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var n=this.options,r=this;if(this._helper){var i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),o=s&&e.ui.hasScroll(i[0],"left")?0:r.sizeDiff.height,u=s?0:r.sizeDiff.width,a={width:r.helper.width()-u,height:r.helper.height()-o},f=parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left)||null,l=parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top)||null;n.animate||this.element.css(e.extend(a,{top:l,left:f})),r.helper.height(r.size.height),r.helper.width(r.size.width),this._helper&&!n.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t=this.options,n,i,s,o,u;u={minWidth:r(t.minWidth)?t.minWidth:0,maxWidth:r(t.maxWidth)?t.maxWidth:Infinity,minHeight:r(t.minHeight)?t.minHeight:0,maxHeight:r(t.maxHeight)?t.maxHeight:Infinity};if(this._aspectRatio||e)n=u.minHeight*this.aspectRatio,s=u.minWidth/this.aspectRatio,i=u.maxHeight*this.aspectRatio,o=u.maxWidth/this.aspectRatio,n>u.minWidth&&(u.minWidth=n),s>u.minHeight&&(u.minHeight=s),i<u.maxWidth&&(u.maxWidth=i),o<u.maxHeight&&(u.maxHeight=o);this._vBoundaries=u},_updateCache:function(e){var t=this.options;this.offset=this.helper.offset(),r(e.left)&&(this.position.left=e.left),r(e.top)&&(this.position.top=e.top),r(e.height)&&(this.size.height=e.height),r(e.width)&&(this.size.width=e.width)},_updateRatio:function(e,t){var n=this.options,i=this.position,s=this.size,o=this.axis;return r(e.height)?e.width=e.height*this.aspectRatio:r(e.width)&&(e.height=e.width/this.aspectRatio),o=="sw"&&(e.left=i.left+(s.width-e.width),e.top=null),o=="nw"&&(e.top=i.top+(s.height-e.height),e.left=i.left+(s.width-e.width)),e},_respectSize:function(e,t){var n=this.helper,i=this._vBoundaries,s=this._aspectRatio||t.shiftKey,o=this.axis,u=r(e.width)&&i.maxWidth&&i.maxWidth<e.width,a=r(e.height)&&i.maxHeight&&i.maxHeight<e.height,f=r(e.width)&&i.minWidth&&i.minWidth>e.width,l=r(e.height)&&i.minHeight&&i.minHeight>e.height;f&&(e.width=i.minWidth),l&&(e.height=i.minHeight),u&&(e.width=i.maxWidth),a&&(e.height=i.maxHeight);var c=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,p=/sw|nw|w/.test(o),d=/nw|ne|n/.test(o);f&&p&&(e.left=c-i.minWidth),u&&p&&(e.left=c-i.maxWidth),l&&d&&(e.top=h-i.minHeight),a&&d&&(e.top=h-i.maxHeight);var v=!e.width&&!e.height;return v&&!e.left&&e.top?e.top=null:v&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){var t=this.options;if(!this._proportionallyResizeElements.length)return;var n=this.helper||this.element;for(var r=0;r<this._proportionallyResizeElements.length;r++){var i=this._proportionallyResizeElements[r];if(!this.borderDif){var s=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],o=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")];this.borderDif=e.map(s,function(e,t){var n=parseInt(e,10)||0,r=parseInt(o[t],10)||0;return n+r})}i.css({height:n.height()-this.borderDif[0]-this.borderDif[2]||0,width:n.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset();if(this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var r=e.ui.ie6?1:0,i=e.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+i,height:this.element.outerHeight()+i,position:"absolute",left:this.elementOffset.left-r+"px",top:this.elementOffset.top-r+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t,n){return{width:this.originalSize.width+t}},w:function(e,t,n){var r=this.options,i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,n){var r=this.options,i=this.originalSize,s=this.originalPosition;return{top:s.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),t!="resize"&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","alsoResize",{start:function(t,n){var r=e(this).data("resizable"),i=r.options,s=function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};typeof i.alsoResize=="object"&&!i.alsoResize.parentNode?i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):e.each(i.alsoResize,function(e){s(e)}):s(i.alsoResize)},resize:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.originalSize,o=r.originalPosition,u={height:r.size.height-s.height||0,width:r.size.width-s.width||0,top:r.position.top-o.top||0,left:r.position.left-o.left||0},a=function(t,r){e(t).each(function(){var t=e(this),i=e(this).data("resizable-alsoresize"),s={},o=r&&r.length?r:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(u[t]||0);n&&n>=0&&(s[t]=n||null)}),t.css(s)})};typeof i.alsoResize=="object"&&!i.alsoResize.nodeType?e.each(i.alsoResize,function(e,t){a(e,t)}):a(i.alsoResize)},stop:function(t,n){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),u=o&&e.ui.hasScroll(s[0],"left")?0:r.sizeDiff.height,a=o?0:r.sizeDiff.width,f={width:r.size.width-a,height:r.size.height-u},l=parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left)||null,c=parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top)||null;r.element.animate(e.extend(f,c&&l?{top:c,left:l}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var n={width:parseInt(r.element.css("width"),10),height:parseInt(r.element.css("height"),10),top:parseInt(r.element.css("top"),10),left:parseInt(r.element.css("left"),10)};s&&s.length&&e(s[0]).css({width:n.width,height:n.height}),r._updateCache(n),r._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(t,r){var i=e(this).data("resizable"),s=i.options,o=i.element,u=s.containment,a=u instanceof e?u.get(0):/parent/.test(u)?o.parent().get(0):u;if(!a)return;i.containerElement=e(a);if(/document/.test(u)||u==document)i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var f=e(a),l=[];e(["Top","Right","Left","Bottom"]).each(function(e,t){l[e]=n(f.css("padding"+t))}),i.containerOffset=f.offset(),i.containerPosition=f.position(),i.containerSize={height:f.innerHeight()-l[3],width:f.innerWidth()-l[1]};var c=i.containerOffset,h=i.containerSize.height,p=i.containerSize.width,d=e.ui.hasScroll(a,"left")?a.scrollWidth:p,v=e.ui.hasScroll(a)?a.scrollHeight:h;i.parentData={element:a,left:c.left,top:c.top,width:d,height:v}}},resize:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.containerSize,o=r.containerOffset,u=r.size,a=r.position,f=r._aspectRatio||t.shiftKey,l={top:0,left:0},c=r.containerElement;c[0]!=document&&/static/.test(c.css("position"))&&(l=o),a.left<(r._helper?o.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-o.left:r.position.left-l.left),f&&(r.size.height=r.size.width/r.aspectRatio),r.position.left=i.helper?o.left:0),a.top<(r._helper?o.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-o.top:r.position.top),f&&(r.size.width=r.size.height*r.aspectRatio),r.position.top=r._helper?o.top:0),r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top;var h=Math.abs((r._helper?r.offset.left-l.left:r.offset.left-l.left)+r.sizeDiff.width),p=Math.abs((r._helper?r.offset.top-l.top:r.offset.top-o.top)+r.sizeDiff.height),d=r.containerElement.get(0)==r.element.parent().get(0),v=/relative|absolute/.test(r.containerElement.css("position"));d&&v&&(h-=r.parentData.left),h+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-h,f&&(r.size.height=r.size.width/r.aspectRatio)),p+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-p,f&&(r.size.width=r.size.height*r.aspectRatio))},stop:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.position,o=r.containerOffset,u=r.containerPosition,a=r.containerElement,f=e(r.helper),l=f.offset(),c=f.outerWidth()-r.sizeDiff.width,h=f.outerHeight()-r.sizeDiff.height;r._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:l.left-u.left-o.left,width:c,height:h}),r._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:l.left-u.left-o.left,width:c,height:h})}}),e.ui.plugin.add("resizable","ghost",{start:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.size;r.ghost=r.originalElement.clone(),r.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof i.ghost=="string"?i.ghost:""),r.ghost.appendTo(r.helper)},resize:function(t,n){var r=e(this).data("resizable"),i=r.options;r.ghost&&r.ghost.css({position:"relative",height:r.size.height,width:r.size.width})},stop:function(t,n){var r=e(this).data("resizable"),i=r.options;r.ghost&&r.helper&&r.helper.get(0).removeChild(r.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.size,o=r.originalSize,u=r.originalPosition,a=r.axis,f=i._aspectRatio||t.shiftKey;i.grid=typeof i.grid=="number"?[i.grid,i.grid]:i.grid;var l=Math.round((s.width-o.width)/(i.grid[0]||1))*(i.grid[0]||1),c=Math.round((s.height-o.height)/(i.grid[1]||1))*(i.grid[1]||1);/^(se|s|e)$/.test(a)?(r.size.width=o.width+l,r.size.height=o.height+c):/^(ne)$/.test(a)?(r.size.width=o.width+l,r.size.height=o.height+c,r.position.top=u.top-c):/^(sw)$/.test(a)?(r.size.width=o.width+l,r.size.height=o.height+c,r.position.left=u.left-l):(r.size.width=o.width+l,r.size.height=o.height+c,r.position.top=u.top-c,r.position.left=u.left-l)}});var n=function(e){return parseInt(e,10)||0},r=function(e){return!isNaN(parseInt(e,10))}}(jQuery),function(e,t){e.widget("ui.sortable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?e.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){t==="disabled"?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var r=this;if(this.reverting)return!1;if(this.options.disabled||this.options.type=="static")return!1;this._refreshItems(t);var i=null,s=e(t.target).parents().each(function(){if(e.data(this,r.widgetName+"-item")==r)return i=e(this),!1});e.data(t.target,r.widgetName+"-item")==r&&(i=e(t.target));if(!i)return!1;if(this.options.handle&&!n){var o=!1;e(this.options.handle,i).find("*").andSelf().each(function(){this==t.target&&(o=!0)});if(!o)return!1}return this.currentItem=i,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,r){var i=this.options;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),i.containment&&this._setContainment(),i.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",i.cursor)),i.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",i.opacity)),i.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",i.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!r)for(var s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var n=this.options,r=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(t.pageY-e(document).scrollTop()<n.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed)),t.pageX-e(document).scrollLeft()<n.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(var i=this.items.length-1;i>=0;i--){var s=this.items[i],o=s.item[0],u=this._intersectsWithPointer(s);if(!u)continue;if(s.instance!==this.currentContainer)continue;if(o!=this.currentItem[0]&&this.placeholder[u==1?"next":"prev"]()[0]!=o&&!e.contains(this.placeholder[0],o)&&(this.options.type=="semi-dynamic"?!e.contains(this.element[0],o):!0)){this.direction=u==1?"down":"up";if(this.options.tolerance!="pointer"&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(!t)return;e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t);if(this.options.revert){var r=this,i=this.placeholder.offset();this.reverting=!0,e(this.helper).animate({left:i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,s=e.left,o=s+e.width,u=e.top,a=u+e.height,f=this.offset.click.top,l=this.offset.click.left,c=r+f>u&&r+f<a&&t+l>s&&t+l<o;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?c:s<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&u<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<a},_intersectsWithPointer:function(t){var n=this.options.axis==="x"||e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r=this.options.axis==="y"||e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=n&&r,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&o=="right"||s=="down"?2:1:s&&(s=="down"?2:1):!1},_intersectsWithSides:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),r=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?s=="right"&&r||s=="left"&&!r:i&&(i=="down"&&n||i=="up"&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!=0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!=0&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n=[],r=[],i=this._connectWith();if(i&&t)for(var s=i.length-1;s>=0;s--){var o=e(i[s]);for(var u=o.length-1;u>=0;u--){var a=e.data(o[u],this.widgetName);a&&a!=this&&!a.options.disabled&&r.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a])}}r.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var s=r.length-1;s>=0;s--)r[s][0].each(function(){n.push(this)});return e(n)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]==e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n=this.items,r=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],i=this._connectWith();if(i&&this.ready)for(var s=i.length-1;s>=0;s--){var o=e(i[s]);for(var u=o.length-1;u>=0;u--){var a=e.data(o[u],this.widgetName);a&&a!=this&&!a.options.disabled&&(r.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a))}}for(var s=r.length-1;s>=0;s--){var f=r[s][1],l=r[s][0];for(var u=0,c=l.length;u<c;u++){var h=e(l[u]);h.data(this.widgetName+"-item",f),n.push({item:h,instance:f,width:0,height:0,left:0,top:0})}}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var n=this.items.length-1;n>=0;n--){var r=this.items[n];if(r.instance!=this.currentContainer&&this.currentContainer&&r.item[0]!=this.currentItem[0])continue;var i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item;t||(r.width=i.outerWidth(),r.height=i.outerHeight());var s=i.offset();r.left=s.left,r.top=s.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var n=this.containers.length-1;n>=0;n--){var s=this.containers[n].element.offset();this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(t){t=t||this;var n=t.options;if(!n.placeholder||n.placeholder.constructor==String){var r=n.placeholder;n.placeholder={element:function(){var n=e(document.createElement(t.currentItem[0].nodeName)).addClass(r||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return r||(n.style.visibility="hidden"),n},update:function(e,i){if(r&&!n.forcePlaceholderSize)return;i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10))}}}t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var n=null,r=null;for(var i=this.containers.length-1;i>=0;i--){if(e.contains(this.currentItem[0],this.containers[i].element[0]))continue;if(this._intersectsWith(this.containers[i].containerCache)){if(n&&e.contains(this.containers[i].element[0],n.element[0]))continue;n=this.containers[i],r=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0)}if(!n)return;if(this.containers.length===1)this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1;else{var s=1e4,o=null,u=this.containers[r].floating?"left":"top",a=this.containers[r].floating?"width":"height",f=this.positionAbs[u]+this.offset.click[u];for(var l=this.items.length-1;l>=0;l--){if(!e.contains(this.containers[r].element[0],this.items[l].item[0]))continue;if(this.items[l].item[0]==this.currentItem[0])continue;var c=this.items[l].item.offset()[u],h=!1;Math.abs(c-f)>Math.abs(c+this.items[l][a]-f)&&(h=!0,c+=this.items[l][a]),Math.abs(c-f)<s&&(s=Math.abs(c-f),o=this.items[l],this.direction=h?"up":"down")}if(!o&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[r],o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[r].element,!0),this._trigger("change",t,this._uiHash()),this.containers[r]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):n.helper=="clone"?this.currentItem.clone():this.currentItem;return r.parents("body").length||e(n.appendTo!="parent"?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(r[0].style.width==""||n.forceHelperSize)&&r.width(this.currentItem.width()),(r[0].style.height==""||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&e.ui.ie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;t.containment=="parent"&&(t.containment=this.helper[0].parentNode);if(t.containment=="document"||t.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e(t.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e(t.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(t.containment)){var n=e(t.containment)[0],r=e(t.containment).offset(),i=e(n).css("overflow")!="hidden";this.containment=[r.left+(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0)-this.margins.top,r.left+(i?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(i?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position);var r=t=="absolute"?1:-1,i=this.options,s=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():o?0:s.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*r}},_generatePosition:function(t){var n=this.options,r=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var s=t.pageX,o=t.pageY;if(this.originalPosition){this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top));if(n.grid){var u=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1];o=this.containment?u-this.offset.click.top<this.containment[1]||u-this.offset.click.top>this.containment[3]?u-this.offset.click.top<this.containment[1]?u+n.grid[1]:u-n.grid[1]:u:u;var a=this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0];s=this.containment?a-this.offset.click.left<this.containment[0]||a-this.offset.click.left>this.containment[2]?a-this.offset.click.left<this.containment[0]?a+n.grid[0]:a-n.grid[0]:a:a}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():i?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i==this.counter&&this.refreshPositions(!r)})},_clear:function(t,n){this.reverting=!1;var r=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var i in this._storedCSS)if(this._storedCSS[i]=="auto"||this._storedCSS[i]=="static")this._storedCSS[i]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!n&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!n&&r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(n||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(var i=this.containers.length-1;i>=0;i--)n||r.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!n){this._trigger("beforeStop",t,this._uiHash());for(var i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}n||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!n){for(var i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery),define("jquery-ui",function(){}),define("oae.core",["oae.api!","jquery","bootstrap","oae.api.authentication","oae.api.config","oae.api.content","oae.api.comment","oae.api.discussion","oae.api.group","oae.api.i18n","oae.api.l10n","oae.api.profile","oae.api.user","oae.api.util","oae.api.widget","bootstrap.modal","jquery.browse-focus","jquery.clip","jquery.dnd-upload","jquery.infinitescroll","jquery.list-options","bootstrap.clickover","globalize","jquery.encoder","jquery.fileSize","jquery.form","jquery.infinitescroll","jquery.notify","jquery.parseurl","jquery.properties-parser","jquery.serializeObject","jquery.timeago","jquery.validate","jquery-ui","underscore"],function(e,t){return t.ajaxSetup({cache:!0}),t.ajaxSettings.traditional=!0,e});